import{_ as x}from"./StateEditor.vue.452c2a1e.js";import{a as y,o as t,h as r,F as k,q as B,c as f,w as a,V as C,n as D,g as V,f as $,b as w,p as F,u as i,i as e,v as m,l as O,k as P}from"./entry.8297d1ff.js";import{_ as E}from"./NSectionBlock.b03d4f1a.js";import{_ as R}from"./NIconButton.vue.61b6fdb9.js";import{_ as j}from"./HelpFab.vue.82dbe71b.js";import"./json-editor-vue.98769e76.js";import"./NIconTitle.vue.db04ddec.js";const A={key:0,flex:"~ col gap-1"},G={key:1,mt2:"",px4:"",italic:"",op35:""},H=y({__name:"StateGroup",props:{state:null,prefix:{default:""}},setup(n){return(o,s)=>{const l=x;return t(),r("div",null,[n.state&&Object.keys(n.state).length>0?(t(),r("div",A,[(t(!0),r(k,null,B(n.state,(_,c)=>(t(),f(l,{key:c,state:_,name:c.startsWith(n.prefix)?c.slice(n.prefix.length):c},{actions:a(u=>[C(o.$slots,"actions",D(V(u)))]),_:2},1032,["state","name"]))),128))])):(t(),r("div",G," No data "))])}}}),K={class:"markdown-body"},T=$("h1",null,"State & Async Data",-1),q=$("p",null,"// TODO",-1),z=[T,q],I={__name:"payload",setup(n,{expose:o}){return o({frontmatter:{}}),(l,_)=>(t(),r("div",K,z))}},L={key:0},tt=y({__name:"payload",setup(n){const o=w(),s=F(()=>o.value?.nuxt.payload);async function l(_){await o.value?.nuxt.hooks.callHookParallel("app:data:refresh",_)}return(_,c)=>{const u=H,d=E,b=P,v=R,S=x,g=I,N=j;return t(),r(k,null,[i(o)?(t(),r("div",L,[e(d,{icon:"carbon-data-set",text:"State",description:"Keyed state from `useState`",padding:!1},{default:a(()=>[e(u,{state:i(s).state,prefix:"$s"},null,8,["state"])]),_:1}),e(d,{icon:"carbon-data-blob",text:"Data",description:"Keyed state from `useAsyncData`",padding:!1},{actions:a(()=>[e(b,{n:"xs primary","self-start":"",icon:"i-carbon-recycle",onClick:c[0]||(c[0]=h=>l())},{default:a(()=>[O(" Re-fetch all data ")]),_:1})]),default:a(()=>[e(u,{state:i(s).data},{actions:a(({isOpen:h,name:p})=>[h&&p?(t(),f(v,{key:0,title:`Re-fetch '${p}'`,icon:"carbon-recycle",onClick:W=>l([p])},null,8,["title","onClick"])):m("",!0)]),_:1},8,["state"])]),_:1}),i(s).functions&&Object.keys(i(s).functions).length?(t(),f(d,{key:0,icon:"carbon-function",text:"Functions",description:"State for functions (experimental)"},{default:a(()=>[e(S,{"ml--6":"",state:i(s).functions},null,8,["state"])]),_:1})):m("",!0)])):m("",!0),e(N,null,{default:a(()=>[e(g)]),_:1})],64)}}});export{tt as default};
