import{_ as h}from"./NIconButton.vue.61b6fdb9.js";import{a as V,an as N,W as S,r as B,aV as O,o as i,h as c,f as u,s as d,u as s,t as x,v as m,V as C,n as w,g as j,c as v,F as J,ac as P,G as $,af as z}from"./entry.8297d1ff.js";import{U as M}from"./json-editor-vue.98769e76.js";const R=["open"],U={flex:"~ gap2","select-none":"","items-center":"",px4:""},A={key:1,"bg-active":"",p5:"",italic:""},E=u("span",{op50:""},"No data",-1),F=[E],T=V({__name:"StateEditor",props:{name:null,open:{type:Boolean},state:null,readonly:{type:Boolean}},emits:["update:open"],setup(t,{emit:k}){const r=t,n=N(r,"open",k,{passive:!0}),g=S(),l=B();l.value=JSON.parse(JSON.stringify(r.state));const p=O(l,e=>{y(e,r.state)},{deep:!0});function y(e,o){for(const a in e)e[a]===null?o[a]=null:Array.isArray(e[a])?o[a]=e[a].slice():typeof e[a]=="object"?y(e[a],o[a]):o[a]=e[a]}async function b(){p.pause(),l.value=JSON.parse(JSON.stringify(r.state)),await z(),p.resume()}return(e,o)=>{const a=h;return i(),c("div",{class:"state-editor-details",open:t.name?s(n):!0},[u("div",U,[t.name?(i(),c("button",{key:0,flex:"~","cursor-pointer":"","items-center":"",class:d(s(n)?"":"op50"),onClick:o[0]||(o[0]=f=>n.value=!s(n))},[u("div",{"i-carbon-chevron-right":"",transition:"",class:d(s(n)?"rotate-90 op0":"")},null,2),u("code",{px3:"",py1:"","font-mono":"",class:d(s(n)?"bg-[#8881] rounded-t":"rounded hover:bg-active")},x(t.name),3)],2)):m("",!0),C(e.$slots,"actions",w(j({isOpen:s(n),name:t.name,state:t.state}))),s(n)?(i(),v(a,{key:1,title:"Refresh View",icon:"carbon-renew",onClick:b})):m("",!0)]),s(n)||!t.name?(i(),c(J,{key:0},[t.state&&Object.keys(t.state).length>0?(i(),v(s(M),P({key:0,modelValue:s(l),"onUpdate:modelValue":o[1]||(o[1]=f=>$(l)?l.value=f:null)},e.$attrs,{class:["json-editor-vue",[s(g).value==="dark"?"jse-theme-dark":"",(t.name,"")]],"main-menu-bar":!1,"navigation-bar":!1,"status-bar":!1,"read-only":t.readonly,indentation:2,"tab-size":2}),null,16,["modelValue","class","read-only"])):(i(),c("div",A,F))],64)):m("",!0)],8,R)}}});export{T as _};
