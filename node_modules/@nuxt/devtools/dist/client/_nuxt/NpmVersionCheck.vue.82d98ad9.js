import{_ as j}from"./Badge.c6f0948b.js";import{_ as E}from"./NCodeBlock.vue.7df96def.js";import{_ as F}from"./NCheckbox.vue.2dbb6d84.js";import{_ as G}from"./NTip.vue.d3e88526.js";import{a as O,D as W,aN as q,r as x,aO as z,B as A,o as r,h as p,V as H,u as e,t as N,v as h,F as V,i as t,c as J,w as o,f as _,G as b,l as u,k as K,I as L}from"./entry.8297d1ff.js";const M={key:0},Q={p4:"",flex:"~ col gap-1"},X={class:"text-lg font-medium leading-6"},Y=_("p",{op50:""}," The following command will be executed in your terminal: ",-1),Z={flex:"~ gap-3",mt2:"","justify-end":""},se=O({__name:"NpmVersionCheck",props:{packageName:null,options:null,showVersion:{type:Boolean,default:!0}},setup(f){const i=f,$=W(),{info:l,update:w,state:B,processId:U,restart:D}=q(i.packageName,i.options),c=x(!0),d=x(!0),R=z(),g=A();async function k(){const n=await w(async a=>g.start(a));n&&d.value&&R.value.push({id:n,message:`${i.packageName} has been updated. Do you want to restart the Nuxt server now?`}),n&&c.value&&$.push(`/modules/terminals?id=${encodeURIComponent(n)}`)}return(n,a)=>{const y=j,T=E,C=F,I=G,v=K,P=L;return r(),p(V,null,[H(n.$slots,"default",{id:e(U),info:e(l),update:k,state:e(B),restart:e(D)},()=>[e(l)&&f.showVersion?(r(),p("code",M,N(`v${e(l).current}`),1)):h("",!0),e(l)?.latest?(r(),p(V,{key:1},[e(l).needsUpdate?(r(),p("button",{key:0,onClick:a[0]||(a[0]=m=>k())},[t(y,{"bg-green-400:10":"","text-green-400":"",title:"updates available",textContent:"updates available"})])):(r(),J(y,{key:1,"bg-gray-400:10":"","text-gray-400":"",title:"latest",textContent:"latest"}))],64)):h("",!0)]),t(e(g),null,{default:o(({resolve:m,args:S})=>[t(P,{"model-value":!0,onClose:s=>m(!1)},{default:o(()=>[_("div",Q,[_("h3",X," Update "+N(i.packageName)+"? ",1),Y,t(T,{code:S[0],lang:"bash",my3:"",px4:"",py2:"",border:"~ base rounded",lines:!1},null,8,["code"]),t(C,{modelValue:e(c),"onUpdate:modelValue":a[1]||(a[1]=s=>b(c)?c.value=s:null),n:"primary"},{default:o(()=>[u(" Navigate to terminal ")]),_:1},8,["modelValue"]),t(C,{modelValue:e(d),"onUpdate:modelValue":a[2]||(a[2]=s=>b(d)?d.value=s:null),n:"primary"},{default:o(()=>[u(" Restart Nuxt server after update ")]),_:1},8,["modelValue"]),_("div",Z,[t(I,{n:"sm purple","flex-auto":"",icon:"carbon-chemistry"},{default:o(()=>[u(" Experimental feature. Please make sure to backup your project first. ")]),_:1}),t(v,{onClick:s=>m(!1)},{default:o(()=>[u(" Cancel ")]),_:2},1032,["onClick"]),t(v,{n:"solid primary",onClick:s=>m(!0)},{default:o(()=>[u(" Update ")]),_:2},1032,["onClick"])])])]),_:2},1032,["onClose"])]),_:1})],64)}}});export{se as _};
