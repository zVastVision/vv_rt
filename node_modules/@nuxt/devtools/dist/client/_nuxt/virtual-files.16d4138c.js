import{_ as B}from"./Navbar.vue.1175e5b5.js";import{o as c,h as u,f as _,a as R,r as v,b5 as S,p as d,E,ag as I,i as s,w as i,F as m,u as l,G as L,q as P,s as U,l as j,t as h,c as q,H as G,a3 as H}from"./entry.8297d1ff.js";import{_ as W}from"./NCodeBlock.vue.7df96def.js";import{_ as z}from"./NPanelGrids.f0b55b40.js";import{_ as T}from"./PanelLeftRight.vue.b6fba8cf.js";import{_ as A}from"./HelpFab.vue.82dbe71b.js";import{F as J}from"./fuse.esm.88e2763d.js";import"./NTextInput.vue.3d7af8ee.js";import"./client.64d509dc.js";import"./NIconButton.vue.61b6fdb9.js";const K={class:"markdown-body"},M=_("h1",null,"Virtual Files",-1),O=_("p",null,"Virtual files are generated on the fly to support the conventions of the framework, and to provide a better developer experience.",-1),Q=[M,O],X={__name:"virtual-files",setup(x,{expose:o}){return o({frontmatter:{}}),(p,r)=>(c(),u("div",K,Q))}},Y=_("div",{"x-divider":""},null,-1),Z={key:0,"h-full":"","of-hidden":"",flex:"~ col"},ee={border:"b base","flex-none":"",px4:"",py2:"","text-sm":"",op75:""},te=_("span",{op75:""},"Select a file to start",-1),de=R({__name:"virtual-files",setup(x){const o=v(""),n=S(),p=d(()=>E().query?.id),r=v();I(()=>{if(!p.value)return;const e=`/_vfs.json/${encodeURIComponent(p.value)}`;fetch(e).then(t=>t.json()).then(t=>r.value=t.current)});function y(e){if(n.value?.rootDir)return e.startsWith(n.value?.rootDir)?e.slice(n.value.rootDir.length):e}const f=d(()=>n.value?n.value.entries.filter(e=>!e.id.startsWith(`${n.value?.rootDir||""}/.nuxt/`)).sort((e,t)=>e.id.localeCompare(t.id)):[]),g=d(()=>new J(f.value,{keys:["id","path"]})),k=d(()=>o.value?g.value.search(o.value).map(e=>e.item):f.value);return(e,t)=>{const b=B,$=G,F=W,C=H,N=z,V=T,w=X,D=A;return c(),u(m,null,[s(V,{class:"virtual-files","storage-key":"tab-virtual-files"},{left:i(()=>[s(b,{search:l(o),"onUpdate:search":t[0]||(t[0]=a=>L(o)?o.value=a:null),"no-padding":"",p3:""},null,8,["search"]),(c(!0),u(m,null,P(l(k),a=>(c(),u(m,{key:a.id},[s($,{block:"","select-none":"",truncate:"",px2:"",py1:"","font-mono":"","text-sm":"",to:`/modules/virtual-files?id=${encodeURIComponent(a.id)}`,class:U(a.id===l(r)?.id?"text-primary n-bg-active":"text-secondary hover:n-bg-hover")},{default:i(()=>[j(h(y(a.id)),1)]),_:2},1032,["to","class"]),Y],64))),128))]),right:i(()=>[l(r)?.content?(c(),u("div",Z,[_("div",ee,[_("code",null,h(l(r).id),1)]),s(F,{"h-full":"","of-auto":"","text-sm":"",code:l(r).content,lang:"typescript"},null,8,["code"])])):(c(),q(N,{key:1},{default:i(()=>[s(C,{px6:"",py2:""},{default:i(()=>[te]),_:1})]),_:1}))]),_:1}),s(D,null,{default:i(()=>[s(w)]),_:1})],64)}}});export{de as default};
