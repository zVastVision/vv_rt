import{b as I,m as T,r as q,q as C,e as U,o as p,h,i as e,j as a,v,x as B,u as o,F as f,z as M,w as S,B as N,d as R,_ as $}from"./entry.bbefaf41.js";import{_ as A}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as D}from"./TextInput.209286f2.js";import{_ as j}from"./TextArea.e6b77f3a.js";import{_ as z}from"./CheckBox.eb706d2c.js";import{u as E}from"./inventory.a3e76661.js";import{t as L,z as m}from"./vee-validate-zod.esm.225d6f64.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";import"./asyncData.35e0061c.js";const O=R(()=>$(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(_=>_.default||_)),P={class:"flex justify-end"},W=["href"],H=e("button",{type:"submit",class:"btn btn--primary ml-4"}," Save ",-1),G={class:"flex gap-6"},J={class:"flex-1 border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},K=e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1),Q={class:"w-full mr-4"},X=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Main Identifier",-1),Y=e("label",{for:"description",class:"text-vvn-gray text-base mb-2 mt-4 inline-block"},"Description",-1),Z={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[378px]"},ee=e("p",{class:"text-2xl text-vvn-green mb-3"}," Inventory ",-1),te={class:"w-full mr-4"},oe=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Current Inventory",-1),ne={class:"mt-4"},se=e("label",{for:"trackThreshold",class:"text-vvn-gray text-base mb-2 block"},"Track Inventory Threshold",-1),ae={class:"mt-4"},le=e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1),re={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},de=e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1),ie={class:"mr-4 w-52"},me=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1),ue={class:"mr-4 w-[500px]"},ce=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Value",-1),_e=["onClick"],pe=e("h5",{class:"text-2xl text-white text-center mt-4"}," Inventory created successfully ",-1),he={class:"flex justify-center mt-8"},be={class:"btn btn--primary mr-5",style:{"background-color":"transparent","border-color":"white"}},ve=["href"],Ue=I({__name:"new",setup(_){const x=E(),y=T(),t=q({name:"",description:"",extraFields:[],quantity:0,threshold:0,trackThreshold:!1}),u=C(!1),V=L(m.object({name:m.string().nonempty("Name is required"),description:m.string().nonempty("Description is required"),quantity:m.number().min(0),threshold:m.number().min(0)})),b=U({validationSchema:V}).handleSubmit(r=>{const n={name:r.name,description:r.description,quantity:r.quantity,trackThreshold:t.trackThreshold,threshold:r.threshold,extraDetails:t.extraFields.map(d=>({name:d.name,value:d.value})),warehouseID:y.params.warehouseId};x.createInventoryInstance(n).then(()=>{u.value=!0,document.getElementById("form").reset()}).catch(d=>{console.log(d)})}),k=()=>{t.extraFields.push({name:"",value:""})};return(r,n)=>{const d=A,i=D,g=j,w=z,F=O;return p(),h(f,null,[e("form",{id:"form",class:"p-6",onSubmit:n[5]||(n[5]=S((...s)=>o(b)&&o(b)(...s),["prevent"]))},[a(d,null,{default:v(()=>[B("Add Inventory")]),_:1}),e("div",P,[e("a",{href:`/warehouse-${r.$route.params.warehouseId}/inventory`,class:"btn btn--secondary flex"}," Cancel ",8,W),H]),e("div",G,[e("div",J,[K,e("div",Q,[X,a(i,{id:"name",modelValue:o(t).name,"onUpdate:modelValue":n[0]||(n[0]=s=>o(t).name=s),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",null,[Y,a(g,{id:"description",modelValue:o(t).description,"onUpdate:modelValue":n[1]||(n[1]=s=>o(t).description=s),name:"description",rules:"required|min:2|max:4"},null,8,["modelValue"])])]),e("div",Z,[ee,e("div",te,[oe,a(i,{id:"quantity",modelValue:o(t).quantity,"onUpdate:modelValue":n[2]||(n[2]=s=>o(t).quantity=s),modelModifiers:{number:!0},type:"number",name:"quantity",rules:"required|numeric"},null,8,["modelValue"])]),e("div",ne,[se,a(w,{modelValue:o(t).trackThreshold,"onUpdate:modelValue":n[3]||(n[3]=s=>o(t).trackThreshold=s),modelModifiers:{number:!0},class:"block",value:!1,name:"trackThreshold"},null,8,["modelValue"])]),e("div",ae,[le,a(i,{id:"threshold",modelValue:o(t).threshold,"onUpdate:modelValue":n[4]||(n[4]=s=>o(t).threshold=s),modelModifiers:{number:!0},type:"number",name:"threshold",rules:"numeric",disabled:!o(t).trackThreshold},null,8,["modelValue","disabled"])])])]),e("div",re,[de,e("div",null,[(p(!0),h(f,null,M(o(t).extraFields.length,(s,l)=>(p(),h("div",{key:l,class:"flex items-end mb-4"},[e("div",ie,[me,a(i,{id:"name",modelValue:o(t).extraFields[l].name,"onUpdate:modelValue":c=>o(t).extraFields[l].name=c,name:`customField${l}-name`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("div",ue,[ce,a(i,{id:"name",modelValue:o(t).extraFields[l].value,"onUpdate:modelValue":c=>o(t).extraFields[l].value=c,name:`customField${l}-value`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("button",{class:"btn btn--secondary mb-1",type:"button",onClick:c=>o(t).extraFields.splice(l,1)}," Remove field ",8,_e)]))),128))]),e("button",{class:"btn btn--secondary mt-5",type:"button",onClick:k}," Add Field ")])],32),a(F,{modelValue:o(u),"onUpdate:modelValue":n[6]||(n[6]=s=>N(u)?u.value=s:null)},{default:v(()=>[pe,e("div",he,[e("button",be,[e("a",{href:"../inventory"},"Close",8,ve)])])]),_:1},8,["modelValue"])],64)}}});export{Ue as default};
