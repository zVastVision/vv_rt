import{_ as B}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as T}from"./TextInput.209286f2.js";import{_ as j}from"./TextArea.e6b77f3a.js";import{b as A,r as R,m as z,q as M,s as P,t as W,e as L,f as V,u as a,o as c,h as p,j as u,v as I,x as S,y as d,i as e,F as C,z as F,A as H,w as K,p as G,k as J,l as O}from"./entry.bbefaf41.js";import{u as Q}from"./inventory.a3e76661.js";import{u as X}from"./asyncData.35e0061c.js";import{t as Y,z as h}from"./vee-validate-zod.esm.225d6f64.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";const n=b=>(G("data-v-6a24a750"),b=b(),J(),b),Z={key:0,class:"p-6"},ee={class:"flex justify-end"},te=["href"],ae=["href"],se={class:"flex gap-6"},ne={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[1250px]"},ie=n(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1)),oe={class:"w-full mr-4"},le=n(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Item Name",-1)),de={class:"text-white text-base"},re=n(()=>e("label",{for:"part_id",class:"text-vvn-gray text-base mb-2 inline-block"},"Part ID",-1)),me={class:"text-white text-base"},ce={class:"w-full mr-4"},pe=n(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1)),ue={class:"text-white text-base"},_e={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},be=n(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1)),ve=n(()=>e("div",null,[e("p",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block w-96"}," Key "),e("p",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block w-96"}," Value ")],-1)),xe=n(()=>e("hr",{class:"border-y-vvn-gray-90 mb-3"},null,-1)),he={for:"name",class:"text-base mb-2 inline-block w-96"},fe={for:"name",class:"text-base mb-2 inline-block w-96"},De=n(()=>e("div",null,'" "',-1)),qe={class:"font-bold text-white"},ye=n(()=>e("canvas",{class:"canvas"},null,-1)),we={class:"flex justify-end"},ge=["href"],ke=n(()=>e("button",{type:"submit",class:"btn btn--primary ml-4"}," Save ",-1)),Ee={class:"flex gap-6"},Ve={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[1250px]"},Ie=n(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1)),Se={class:"w-full mr-4"},Ce=n(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Item Name",-1)),Fe={class:"w-full mr-4"},Ne=n(()=>e("label",{for:"part_id",class:"text-vvn-gray text-base mb-2 inline-block"},"Part ID",-1)),Ue={class:"w-full mr-4"},$e=n(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 mt-4 inline-block"},"Description",-1)),Be={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},Te=n(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1)),je={key:0},Ae={class:"mr-4 w-52"},Re=n(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1)),ze={class:"mr-4 w-[500px]"},Me=n(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Value",-1)),Pe=["onClick"],We=A({__name:"[equipmentId]",setup(b){const s=R({editEquipmentData:{id:"",name:"",description:"",part_id:"",extraDetails:[]}}),i=Q(),v=z(),f=M(!1);P(()=>{v.query.edit=="true"&&(f.value=!0)}),X(async()=>{i.getEquipmentItemById(v.params.equipmentId).catch(()=>{V().error("Could not fetch inventory details")})},"$WocDgMidUz");const N=W(()=>{var r,o,l,m,x;return s.editEquipmentData.id=(r=i.equipmentData)==null?void 0:r.id,s.editEquipmentData.name=((o=i.equipmentData)==null?void 0:o.name)||"",s.editEquipmentData.description=((l=i.equipmentData)==null?void 0:l.description)||"",s.editEquipmentData.extraDetails=[...(m=i.equipmentData)==null?void 0:m.extraDetails],s.editEquipmentData.part_id=((x=i.equipmentData)==null?void 0:x.part_id)||"",s.editEquipmentData}),U=()=>{s.editEquipmentData.extraDetails.push({name:"",value:""})},$=Y(h.object({name:h.string().nonempty("Name is required"),description:h.string().nonempty("Description is required"),part_id:h.string().nonempty("Part ID is required")})),D=L({validationSchema:$}).handleSubmit(r=>{const o={id:v.params.equipmentId,name:r.name,description:r.description,part_id:r.part_id,extraDetails:s.editEquipmentData.extraDetails.map(l=>({name:l.name,value:l.value}))};i.editEquipmentItem(o).then(()=>{window.location.href=`${v.params.equipmentId}`}).catch(()=>{V().error("Update failed")})});return(r,o)=>{var q,y,w,g,k,E;const l=B,m=T,x=j;return a(f)?(c(),p("form",{key:1,id:"form",class:"p-6",onSubmit:o[3]||(o[3]=K((...t)=>a(D)&&a(D)(...t),["prevent"]))},[u(l,null,{default:I(()=>{var t;return[S(" Edit "+d((t=a(i).equipmentData)==null?void 0:t.name),1)]}),_:1}),e("div",we,[e("a",{href:`${a(N).id}`,class:"btn btn--secondary flex"}," Cancel ",8,ge),ke]),e("div",Ee,[e("div",Ve,[Ie,e("div",Se,[Ce,u(m,{id:"name",modelValue:a(s).editEquipmentData.name,"onUpdate:modelValue":o[0]||(o[0]=t=>a(s).editEquipmentData.name=t),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Fe,[Ne,u(m,{id:"part_id",modelValue:a(s).editEquipmentData.part_id,"onUpdate:modelValue":o[1]||(o[1]=t=>a(s).editEquipmentData.part_id=t),name:"part_id",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Ue,[$e,u(x,{id:"description",modelValue:a(s).editEquipmentData.description,"onUpdate:modelValue":o[2]||(o[2]=t=>a(s).editEquipmentData.description=t),name:"description",rules:"required|min:2|max:256"},null,8,["modelValue"])])])]),e("div",Be,[Te,a(s).editEquipmentData.extraDetails.length!=0?(c(),p("div",je,[(c(!0),p(C,null,F(a(s).editEquipmentData.extraDetails.length,t=>(c(),p("div",{key:t,class:"flex items-end mb-4"},[e("div",Ae,[Re,u(m,{id:"name",modelValue:a(s).editEquipmentData.extraDetails[t-1].name,"onUpdate:modelValue":_=>a(s).editEquipmentData.extraDetails[t-1].name=_,name:`customField${t-1}-name`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("div",ze,[Me,u(m,{id:"name",modelValue:a(s).editEquipmentData.extraDetails[t-1].value,"onUpdate:modelValue":_=>a(s).editEquipmentData.extraDetails[t-1].value=_,name:`customField${t-1}-value`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("button",{class:"btn btn--secondary mb-1",type:"button",onClick:_=>a(s).editEquipmentData.extraDetails.splice(t-1,1)}," Remove field ",8,Pe)]))),128))])):H("",!0),e("button",{class:"btn btn--secondary mt-5",type:"button",onClick:U}," Add Field ")])],32)):(c(),p("main",Z,[u(l,null,{default:I(()=>{var t;return[S(d((t=a(i).equipmentData)==null?void 0:t.name),1)]}),_:1}),e("div",ee,[e("a",{type:"submit",class:"btn btn--secondary ml-4 flex",href:"../equipment"}," Back ",8,te),e("a",{type:"submit",class:"btn btn--primary ml-4 flex",href:`${(q=a(i).equipmentData)==null?void 0:q.id}?edit=true`}," Edit ",8,ae)]),e("div",se,[e("div",ne,[ie,e("div",oe,[le,e("p",de,d((y=a(i).equipmentData)==null?void 0:y.name),1)]),e("div",null,[re,e("p",me,d((w=a(i).equipmentData)==null?void 0:w.part_id),1)]),e("div",ce,[pe,e("p",ue,d((g=a(i).equipmentData)==null?void 0:g.description),1)])])]),e("div",_e,[be,ve,xe,(c(!0),p(C,null,F((k=a(i).equipmentData)==null?void 0:k.extraDetails,(t,_)=>(c(),p("div",{key:_,class:"flex items-end mb-2 text-white"},[e("p",he,d(t.name),1),e("p",fe,d(t.value),1)]))),128))]),De,e("div",null,[e("h1",qe," Live View - "+d((E=a(i).equipmentData)==null?void 0:E.name),1)]),ye]))}}});const tt=O(We,[["__scopeId","data-v-6a24a750"]]);export{tt as default};
