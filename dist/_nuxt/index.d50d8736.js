import{b as N,o as d,h as r,i as e,y as V,f as b,C as Q,D as te,q as E,s as se,E as q,n as oe,g as ne,G as le,H as w,u as o,l as j,r as ae,t as de,I as ie,J as re,j as i,v,x as C,K as ce,L as ue,B as D,c as z,F as B,z as me,w as _e,d as U,p as pe,k as ve,_ as L}from"./entry.bbefaf41.js";import{_ as ye}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as fe}from"./SearchInput.vue.b95c3b48.js";import{_ as he}from"./CheckBox.eb706d2c.js";import{u as M,a as R}from"./useLocalStorage.e123f57a.js";import{_ as be}from"./TheTable.vue.2670ac42.js";import{_ as ge}from"./TextInput.209286f2.js";import{u as xe}from"./asyncData.35e0061c.js";import{u as we}from"./inventory.a3e76661.js";import{u as Ie}from"./debounce.2d63c4c2.js";import{_ as P,a as Ee}from"./caret-up.def38cf8.js";import{_ as Ve}from"./lost.1164ba4f.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";const Ce={class:"flex p-5 items-end justify-between"},$e={class:"grid grid-cols-4 gap-2 w-8/12"},ke={class:"table_details_card"},Ae=e("p",{class:"table_details_card__heading text-vvn-blue"}," Email ",-1),De={class:"table_details_card__body--regular line-clamp-1"},Ne={class:"table_details_card"},Se=e("p",{class:"table_details_card__heading text-vvn-blue"}," Phone ",-1),Te={class:"table_details_card__body--regular line-clamp-1"},qe={class:"flex gap-5"},ze=["href"],Be=N({__name:"Details_Employee",props:{data:{}},setup(a){const _=a,u=Q(),g=()=>{const s=M(u.encodingEmpQueue);s.find(y=>y.id===_.data.id)?b().error("Item already exists in encoding queue"):(s.push({..._.data,quantity:1}),R(u.encodingEmpQueue,s),b().success("Employee Added to encoding queue"))};return(s,c)=>(d(),r("div",Ce,[e("div",$e,[e("div",ke,[Ae,e("p",De,V(s.data.email),1)]),e("div",Ne,[Se,e("p",Te,V(s.data.phone),1)])]),e("div",qe,[e("a",{class:"btn btn--secondary flex",href:`employees/${s.data.id}`}," More Info ",8,ze),e("button",{class:"btn btn--primary",onClick:g}," Add To Encoding Queue ")])]))}}),Qe={class:"row__details overflow-hidden relative"},je=N({__name:"TableRow_Employee",props:{data:{type:Object,required:!0},toggleDetails:{type:Boolean,required:!1,default:!1},templateColumns:{type:Object,required:!1,default:()=>({"grid-template-columns":"repeat(5, minmax(0, 1fr))"})}},setup(a){te(u=>({c66121cc:o(_)}));const _=E("0px");return se(()=>{document.getElementsByClassName("row__details")[0],_.value="100px"}),(u,g)=>(d(),r("div",{class:w(["border-2 border-vvn-white-15 rounded-lg row relative justify-start",{active:a.toggleDetails}])},[e("div",{class:"grid row__summary py-3 h-20 align-middle items-center",style:le(a.templateColumns)},[q(u.$slots,"row-data",oe(ne(a.data)),void 0,!0)],4),e("div",Qe,[q(u.$slots,"details",{},void 0,!0)])],2))}});const Ue=j(je,[["__scopeId","data-v-51cca335"]]),Le=U(()=>L(()=>import("./DefaultModal.189406ac.js"),["./DefaultModal.189406ac.js","./entry.bbefaf41.js","./entry.d612fb7e.css"],import.meta.url).then(a=>a.default||a)),Me=U(()=>L(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(a=>a.default||a)),l=a=>(pe("data-v-97dab67c"),a=a(),ve(),a),Re={class:"mt-6 mb-4"},Pe={class:"flex justify-between"},Oe={class:"flex items-end"},He={class:"relative"},Fe=["disabled"],Ge={class:"py-2"},Je=l(()=>e("hr",null,null,-1)),We={class:"py-2"},Ke={class:"py-2 w-full"},Xe=["href"],Ye=l(()=>e("hr",null,null,-1)),Ze={class:"py-2"},et=l(()=>e("hr",null,null,-1)),tt={class:"py-2"},st={class:"relative"},ot=l(()=>e("li",{class:"py-2"},[e("a",{href:"employees/new"},"Employee")],-1)),nt=l(()=>e("hr",null,null,-1)),lt=l(()=>e("hr",null,null,-1)),at=l(()=>e("li",{class:"py-2"},[e("a",{href:"employees/csv"},"Upload csv")],-1)),dt=[ot,nt,lt,at],it={key:0,class:"w-full h-[30rem] flex justify-center items-center"},rt=l(()=>e("img",{src:Ve,alt:""},null,-1)),ct={key:0,class:"text-vvn-gray-90 text-center text-lg mt-6"},ut={key:1,class:"text-vvn-gray-90 text-center text-lg mt-6"},mt={class:"pr-3"},_t={class:"text-base relative"},pt={class:"text-xs text-vvn-gray line-clamp-1"},vt={class:"flex justify-end"},yt=["onClick"],ft=l(()=>e("img",{src:P,alt:"down"},null,-1)),ht=[ft],bt=l(()=>e("img",{src:Ee,alt:"down"},null,-1)),gt=[bt],xt=["onSubmit"],wt=l(()=>e("h1",{class:"text-4xl font-bold text-white"}," Edit Item ",-1)),It={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},Et={class:"flex items-start"},Vt={class:"w-48 mr-4"},Ct=l(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name/Number",-1)),$t={class:"w-48 mr-4"},kt=l(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1)),At={class:"mt-4 flex"},Dt={class:"w-48 mr-4"},Nt=l(()=>e("label",{for:"portNumber",class:"text-vvn-gray text-base mb-2"},"Port Number",-1)),St={class:"w-48 mr-4"},Tt=l(()=>e("label",{for:"mfg",class:"text-vvn-gray text-base mb-2"},"Manufacturer/Vendor",-1)),qt={class:"w-48"},zt=l(()=>e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1)),Bt=l(()=>e("hr",{class:"w-full border border-vvn-white-10 my-6"},null,-1)),Qt=l(()=>e("div",{class:"flex justify-end items-center"},[e("button",{class:"btn btn--primary"}," Save ")],-1)),jt=l(()=>e("p",{class:"text-xl text-white"}," ? ",-1)),Ut=l(()=>e("h4",{class:"text-xl text-white text-center mt-3"},[C(" Are you sure you want"),e("br"),C(" to delete selected items? ")],-1)),Lt={class:"flex justify-center gap-4 mt-4"},Mt=N({__name:"index",async setup(a){let _,u;const g=Q(),s=ae({dropdownActive:!1,selected:[],toggledItem:"",inventoryItem:{id:"",name:"",description:"",totalInventory:0,manufacturer:""}}),c=we(),y=E(!1),p=Ie("",200),m=E(!1),f=E(!1),$=de(()=>p.value==""?c.employeeList:c.employeeSearch);ie(p,async h=>{c.searchEmployeeItem(h,{page:0,size:100})}),[_,u]=re(()=>xe("",()=>c.getEmployeeItems({}))),await _,u();const O=()=>{c.deleteEmployees(s.selected).then(()=>{c.getEmployeeItems({}),s.selected=[],m.value=!1,b().success("Employees Deleted")})},H=async()=>{},S=async()=>{const h=M(g.encodingEmpQueue);for(let t=0;t<s.selected.length;t++)h.find(k=>k.id===s.selected[t])?b().error("Item already exists in encoding queue"):c.getEmployeeItemById(s.selected[t]).then(()=>{h.push({...c.employeeData,quantity:1}),R(g.encodingEmpQueue,h),b().success("Employee Added to encoding queue")}).catch(()=>{b().error("Item not found in database")})},F=()=>setTimeout(()=>f.value=!1,100),G=()=>setTimeout(()=>s.dropdownActive=!1,100);return(h,t)=>{const T=ye,k=fe,J=he,W=Be,K=Ue,X=be,x=ge,Y=Le,Z=Me;return d(),r(B,null,[e("div",Re,[i(T,null,{default:v(()=>[C("Employees")]),_:1}),e("div",Pe,[e("div",null,[ce(i(k,{modelValue:o(p),"onUpdate:modelValue":t[0]||(t[0]=n=>D(p)?p.value=n:null),modelModifiers:{trim:!0,lazy:!0},"show-secondary-icon":!0,class:"w-[19rem] mt-4"},null,8,["modelValue"]),[[ue,o($).length!=0||o(p).value!=""]])]),e("div",Oe,[e("div",He,[e("button",{class:"btn btn--secondary mr-2 flex gap-2",disabled:o(s).selected.length<1,onClick:t[1]||(t[1]=n=>f.value=!o(f)),onBlur:F},[C(" Actions "),e("img",{class:w(["caret",{active:o(f)}]),src:P,alt:"down"},null,2)],40,Fe),o(s).selected.length>1?(d(),r("ul",{key:0,class:w(["dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:o(f)}])},[e("li",Ge,[e("button",{onClick:t[2]||(t[2]=n=>m.value=!0)},"Delete")]),Je,e("li",We,[e("button",{onClick:t[3]||(t[3]=n=>S())},"Add to Encoding Queue")])],2)):(d(),r("ul",{key:1,class:w(["actions-dropdown dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:o(f)}])},[e("li",Ke,[e("a",{href:`employees/${o(s).selected[0]}?edit=true`},"Edit",8,Xe)]),Ye,e("li",Ze,[e("button",{onClick:t[4]||(t[4]=n=>m.value=!0)},"Delete")]),et,e("li",tt,[e("button",{onClick:t[5]||(t[5]=n=>S())},"Add to Encoding Queue")])],2))]),e("div",st,[e("button",{class:"btn btn--primary appearance-none",onClick:t[6]||(t[6]=n=>o(s).dropdownActive=!o(s).dropdownActive),onBlur:G}," + Add New ",32),e("ul",{class:w(["dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:o(s).dropdownActive}])},dt,2)])])])]),o($).length==0?(d(),r("div",it,[e("div",null,[rt,o(p).value==""?(d(),r("p",ct," No employees created ")):(d(),r("p",ut," No employees return from search "))])])):(d(),z(X,{key:1,rows:["","Employee Name",""],"template-columns":{"grid-template-columns":"5% 85% 10%"}},{default:v(()=>[(d(!0),r(B,null,me(o($),(n,ee)=>(d(),z(K,{key:ee,data:n,class:"mb-3","toggle-details":o(s).toggledItem==n.id,"template-columns":{"grid-template-columns":"5% 85% 10%"}},{"row-data":v(I=>[e("td",null,[i(J,{modelValue:o(s).selected,"onUpdate:modelValue":t[7]||(t[7]=A=>o(s).selected=A),value:n.id},null,8,["modelValue","value"])]),e("td",mt,[e("p",_t,V(I.name),1),e("small",pt,V(I.title),1)]),e("td",vt,[o(s).toggledItem!=I.id?(d(),r("button",{key:0,class:"mr-11",onClick:A=>o(s).toggledItem=I.id},ht,8,yt)):(d(),r("button",{key:1,class:"mr-11",onClick:t[8]||(t[8]=A=>o(s).toggledItem=-1)},gt))])]),details:v(()=>[i(W,{data:n},null,8,["data"])]),_:2},1032,["data","toggle-details"]))),128))]),_:1})),i(Y,{modelValue:o(y),"onUpdate:modelValue":t[14]||(t[14]=n=>D(y)?y.value=n:null),onClose:t[15]||(t[15]=n=>y.value=!1)},{default:v(()=>[e("form",{id:"form",class:"p-6",onSubmit:_e(H,["prevent"])},[wt,e("div",It,[e("div",Et,[e("div",Vt,[Ct,i(x,{id:"name",modelValue:o(s).inventoryItem.name,"onUpdate:modelValue":t[9]||(t[9]=n=>o(s).inventoryItem.name=n),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",$t,[kt,i(x,{id:"description",modelValue:o(s).inventoryItem.description,"onUpdate:modelValue":t[10]||(t[10]=n=>o(s).inventoryItem.description=n),name:"description",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",At,[e("div",Dt,[Nt,i(x,{id:"portNumber",modelValue:o(s).inventoryItem.portNumber,"onUpdate:modelValue":t[11]||(t[11]=n=>o(s).inventoryItem.portNumber=n),name:"portNumber",rules:"required|min:2"},null,8,["modelValue"])]),e("div",St,[Tt,i(x,{id:"mfg",modelValue:o(s).inventoryItem.manufacturer,"onUpdate:modelValue":t[12]||(t[12]=n=>o(s).inventoryItem.manufacturer=n),name:"manufacturer",rules:"required|min:2"},null,8,["modelValue"])]),e("div",qt,[zt,i(x,{id:"threshold",modelValue:o(s).inventoryItem.threshold,"onUpdate:modelValue":t[13]||(t[13]=n=>o(s).inventoryItem.threshold=n),modelModifiers:{number:!0},name:"threshold",rules:"required|numeric"},null,8,["modelValue"])])])]),Bt,Qt],40,xt)]),_:1},8,["modelValue"]),i(Z,{modelValue:o(m),"onUpdate:modelValue":t[17]||(t[17]=n=>D(m)?m.value=n:null),onClose:t[18]||(t[18]=n=>m.value=!1)},{icon:v(()=>[jt]),default:v(()=>[Ut,e("div",Lt,[e("button",{class:"btn btn--primary",style:{"background-color":"transparent","border-color":"white"},onClick:t[16]||(t[16]=n=>m.value=!o(m))}," Close "),e("button",{class:"btn btn--primary",onClick:O}," Delete ")])]),_:1},8,["modelValue"])],64)}}});const os=j(Mt,[["__scopeId","data-v-97dab67c"]]);export{os as default};
