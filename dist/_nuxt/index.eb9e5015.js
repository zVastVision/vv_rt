import{b as U,o as l,h as d,i as e,y as u,f as x,C as B,r as te,q as T,t as se,I as oe,J as E,j as _,v as b,x as w,K as ne,L as le,u as o,B as N,H as $,c as z,F as Q,z as ae,A as de,w as ie,d as L,p as re,k as ce,O as _e,_ as M,l as ue}from"./entry.bbefaf41.js";import{_ as me}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as ve}from"./SearchInput.vue.b95c3b48.js";import{_ as pe}from"./CheckBox.eb706d2c.js";import{u as j,a as O}from"./useLocalStorage.e123f57a.js";import{_ as he}from"./TableRow.74e93b63.js";import{_ as be}from"./TheTable.vue.2670ac42.js";import{_ as ye}from"./TextInput.209286f2.js";import{u as D}from"./asyncData.35e0061c.js";import{u as ge}from"./inventory.a3e76661.js";import{u as fe}from"./debounce.2d63c4c2.js";import{_ as R,a as xe}from"./caret-up.def38cf8.js";import{_ as Ie}from"./lost.1164ba4f.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";const we={class:"flex p-5 items-end justify-between"},ke={class:"grid grid-cols-4 gap-2 w-8/12"},$e={class:"table_details_card"},Ve=e("p",{class:"table_details_card__heading text-vvn-blue"}," Name ",-1),Ce={class:"table_details_card__body--regular line-clamp-1"},Ae={class:"table_details_card"},Te=e("p",{class:"table_details_card__heading text-vvn-blue"}," Product ID ",-1),Ne={class:"table_details_card__body--regular line-clamp-1"},qe=e("div",null,null,-1),Se=e("div",null,null,-1),Ee={class:"table_details_card"},ze=e("p",{class:"table_details_card__heading text-vvn-green"}," Total Inventory ",-1),Qe={class:"table_details_card__body--regular"},De={class:"table_details_card"},Ue=e("p",{class:"table_details_card__heading text-vvn-green"}," Inactive Inventory ",-1),Be={class:"table_details_card__body--regular"},Le={class:"table_details_card"},Me=e("p",{class:"table_details_card__heading text-vvn-green"}," Active Inventory ",-1),je={class:"table_details_card__body--regular"},Oe={class:"table_details_card"},Re=e("p",{class:"table_details_card__heading text-vvn-green"}," Threshold ",-1),Pe={class:"table_details_card__body--regular"},Ke={class:"flex gap-5"},Fe=["href"],He=U({__name:"Details",props:{data:{}},setup(r){const v=r,p=B(),k=()=>{const s=j(p.encodingInvQueue);s.find(y=>y.id===v.data.id)?x().error("Item already exists in encoding queue"):(console.log(v.data),s.push({...v.data,quantity:1}),console.log(s),O(p.encodingInvQueue,s),x().success("Inventory Added to encoding queue"))};return(s,c)=>(l(),d("div",we,[e("div",ke,[e("div",$e,[Ve,e("p",Ce,u(s.data.name),1)]),e("div",Ae,[Te,e("p",Ne,u(s.data.product_id),1)]),qe,Se,e("div",Ee,[ze,e("p",Qe,u(s.data.quantity),1)]),e("div",De,[Ue,e("p",Be,u(s.data.quantity-s.data.liveTags),1)]),e("div",Le,[Me,e("p",je,u(s.data.liveTags),1)]),e("div",Oe,[Re,e("p",Pe,u(s.data.threshold),1)])]),e("div",Ke,[e("a",{class:"btn btn--secondary flex",href:`inventory/${s.data.id}`}," More Info ",8,Fe),e("button",{class:"btn btn--primary",onClick:k}," Add To Encoding Queue ")])]))}}),Je=L(()=>M(()=>import("./DefaultModal.189406ac.js"),["./DefaultModal.189406ac.js","./entry.bbefaf41.js","./entry.d612fb7e.css"],import.meta.url).then(r=>r.default||r)),We=L(()=>M(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(r=>r.default||r)),a=r=>(re("data-v-1621b10d"),r=r(),ce(),r),Ge={class:"mt-6 mb-4"},Xe={class:"flex justify-between"},Ye={class:"flex items-end"},Ze={class:"relative"},et=["disabled"],tt={class:"py-2"},st=a(()=>e("hr",null,null,-1)),ot={class:"py-2"},nt={class:"py-2 w-full"},lt=["href"],at=a(()=>e("hr",null,null,-1)),dt={class:"py-2"},it=a(()=>e("hr",null,null,-1)),rt={class:"py-2"},ct={class:"relative"},_t=_e('<li class="py-2" data-v-1621b10d><a href="inventory/new" data-v-1621b10d>Item</a></li><hr data-v-1621b10d><li class="py-2" data-v-1621b10d><a href="inventory/create-kit" data-v-1621b10d>Kit</a></li><hr data-v-1621b10d><li class="py-2" data-v-1621b10d><a href="inventory/csv" data-v-1621b10d>Upload csv</a></li>',5),ut=[_t],mt={key:0,class:"w-full h-[30rem] flex justify-center items-center"},vt=a(()=>e("img",{src:Ie,alt:""},null,-1)),pt={key:0,class:"text-vvn-gray-90 text-center text-lg mt-6"},ht={key:1,class:"text-vvn-gray-90 text-center text-lg mt-6"},bt={class:"pr-3"},yt={class:"text-base relative line-clamp-1"},gt={key:0,class:"text-xs absolute top-0 bg-vvn-gray-50 rounded px-1 ml-1"},ft={class:"text-xs text-vvn-gray line-clamp-1"},xt={class:"flex rounded-lg bg-vvn-gray-50 w-max items-center px-2 py-1 text-xs border-2 border-vvn-gray"},It={key:0,class:"rounded-full bg-red-600 h-2 w-2 mr-2"},wt={key:1,class:"rounded-full bg-green-600 h-2 w-2 mr-2"},kt={key:0},$t={key:1},Vt={class:"text-base"},Ct={class:"text-base"},At={class:"flex justify-end"},Tt=["onClick"],Nt=a(()=>e("img",{src:R,alt:"down"},null,-1)),qt=[Nt],St=a(()=>e("img",{src:xe,alt:"down"},null,-1)),Et=[St],zt=["onSubmit"],Qt=a(()=>e("h1",{class:"text-4xl font-bold text-white"}," Edit Item ",-1)),Dt={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},Ut={class:"flex items-start"},Bt={class:"w-48 mr-4"},Lt=a(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name/Number",-1)),Mt={class:"w-48 mr-4"},jt=a(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1)),Ot={class:"mt-4 flex"},Rt={class:"w-48 mr-4"},Pt=a(()=>e("label",{for:"portNumber",class:"text-vvn-gray text-base mb-2"},"Port Number",-1)),Kt={class:"w-48 mr-4"},Ft=a(()=>e("label",{for:"mfg",class:"text-vvn-gray text-base mb-2"},"Manufacturer/Vendor",-1)),Ht={class:"w-48"},Jt=a(()=>e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1)),Wt=a(()=>e("hr",{class:"w-full border border-vvn-white-10 my-6"},null,-1)),Gt=a(()=>e("div",{class:"flex justify-end items-center"},[e("button",{class:"btn btn--primary"}," Save ")],-1)),Xt=a(()=>e("p",{class:"text-xl text-white"}," ? ",-1)),Yt=a(()=>e("h4",{class:"text-xl text-white text-center mt-3"},[w(" Are you sure you want"),e("br"),w(" to delete selected items? ")],-1)),Zt={class:"flex justify-center gap-4 mt-4"},es=U({__name:"index",props:{data:{}},async setup(r){let v,p;const k=B(),s=te({dropdownActive:!1,selected:[],toggledItem:"",inventoryItem:{id:"",name:"",description:"",totalInventory:0,manufacturer:""}}),c=ge(),y=T(!1),h=fe("",200),m=T(!1),g=T(!1),V=se(()=>h.value==""?c.inventoryList:c.inventorySearch);oe(h,async f=>{c.searchInventoryItem(f,{page:0,size:100})}),[v,p]=E(()=>D("",()=>c.getInventoryItems({}))),await v,p(),[v,p]=E(()=>D("",()=>c.subFunc())),await v,p();const P=()=>{c.deleteItems(s.selected).then(()=>{c.getInventoryItems({}),s.selected=[],m.value=!1,x().success("Inventory Deleted")})},K=async()=>{},q=async()=>{const f=j(k.encodingInvQueue);for(let t=0;t<s.selected.length;t++)f.find(C=>C.id===s.selected[t])?x().error("Item already exists in encoding queue"):c.getInventoryItemById(s.selected[t]).then(()=>{f.push({...c.inventoryData,quantity:1}),O(k.encodingInvQueue,f),x().success("Inventory Added to encoding queue")}).catch(()=>{x().error("Item not found in database")})},F=()=>setTimeout(()=>g.value=!1,100),H=()=>setTimeout(()=>s.dropdownActive=!1,100);return(f,t)=>{const S=me,C=ve,J=pe,W=He,G=he,X=be,I=ye,Y=Je,Z=We;return l(),d(Q,null,[e("div",Ge,[_(S,null,{default:b(()=>[w("Inventory")]),_:1}),e("div",Xe,[e("div",null,[ne(_(C,{modelValue:o(h),"onUpdate:modelValue":t[0]||(t[0]=n=>N(h)?h.value=n:null),modelModifiers:{trim:!0,lazy:!0},"show-secondary-icon":!0,class:"w-[19rem] mt-4"},null,8,["modelValue"]),[[le,o(V).length!=0||o(h).value!=""]])]),e("div",Ye,[e("div",Ze,[e("button",{class:"btn btn--secondary mr-2 flex gap-2",disabled:o(s).selected.length<1,onClick:t[1]||(t[1]=n=>g.value=!o(g)),onBlur:F},[w(" Actions "),e("img",{class:$(["caret",{active:o(g)}]),src:R,alt:"down"},null,2)],40,et),o(s).selected.length>1?(l(),d("ul",{key:0,class:$(["dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:o(g)}])},[e("li",tt,[e("button",{onClick:t[2]||(t[2]=n=>m.value=!0)},"Delete")]),st,e("li",ot,[e("button",{onClick:t[3]||(t[3]=n=>q())},"Add to Encoding Queue")])],2)):(l(),d("ul",{key:1,class:$(["actions-dropdown dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:o(g)}])},[e("li",nt,[e("a",{href:`inventory/${o(s).selected[0]}?edit=true`},"Edit",8,lt)]),at,e("li",dt,[e("button",{onClick:t[4]||(t[4]=n=>m.value=!0)},"Delete")]),it,e("li",rt,[e("button",{onClick:t[5]||(t[5]=n=>q())},"Add to Encoding Queue")])],2))]),e("div",ct,[e("button",{class:"btn btn--primary appearance-none",onClick:t[6]||(t[6]=n=>o(s).dropdownActive=!o(s).dropdownActive),onBlur:H}," + Add New ",32),e("ul",{class:$(["actions-dropdown dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:o(s).dropdownActive}])},ut,2)])])])]),o(V).length==0?(l(),d("div",mt,[e("div",null,[vt,o(h).value==""?(l(),d("p",pt," No inventory created ")):(l(),d("p",ht," No inventory return from search "))])])):(l(),z(X,{key:1,rows:["","Item Name","Status","Total Inventory","Active Inventory",""],"template-columns":{"grid-template-columns":"5% 30% 25% 15% 15% 10%"}},{default:b(()=>[(l(!0),d(Q,null,ae(o(V),(n,ee)=>(l(),z(G,{key:ee,data:n,class:"mb-3","toggle-details":o(s).toggledItem==n.id,"template-columns":{"grid-template-columns":"5% 30% 25% 15% 15% 10%"}},{"row-data":b(i=>[e("td",null,[_(J,{modelValue:o(s).selected,"onUpdate:modelValue":t[7]||(t[7]=A=>o(s).selected=A),value:n.id},null,8,["modelValue","value"])]),e("td",bt,[e("p",yt,[w(u(i.name)+" ",1),i.isKit?(l(),d("span",gt,"Kit")):de("",!0)]),e("small",ft,u(i.description),1)]),e("td",null,[e("div",xt,[i.trackThreshold&&i.threshold>i.quantity?(l(),d("div",It)):(l(),d("div",wt)),e("p",null,[i.trackThreshold&&i.threshold>i.quantity?(l(),d("span",kt,"Needs Attention")):(l(),d("span",$t,"Okay"))])])]),e("td",Vt,u(i.quantity),1),e("td",Ct,u(i.liveTags),1),e("td",At,[o(s).toggledItem!=i.id?(l(),d("button",{key:0,class:"mr-11",onClick:A=>o(s).toggledItem=i.id},qt,8,Tt)):(l(),d("button",{key:1,class:"mr-11",onClick:t[8]||(t[8]=A=>o(s).toggledItem=-1)},Et))])]),details:b(()=>[_(W,{data:n},null,8,["data"])]),_:2},1032,["data","toggle-details"]))),128))]),_:1})),_(Y,{modelValue:o(y),"onUpdate:modelValue":t[14]||(t[14]=n=>N(y)?y.value=n:null),onClose:t[15]||(t[15]=n=>y.value=!1)},{default:b(()=>[e("form",{id:"form",class:"p-6",onSubmit:ie(K,["prevent"])},[Qt,e("div",Dt,[e("div",Ut,[e("div",Bt,[Lt,_(I,{id:"name",modelValue:o(s).inventoryItem.name,"onUpdate:modelValue":t[9]||(t[9]=n=>o(s).inventoryItem.name=n),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Mt,[jt,_(I,{id:"description",modelValue:o(s).inventoryItem.description,"onUpdate:modelValue":t[10]||(t[10]=n=>o(s).inventoryItem.description=n),name:"description",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",Ot,[e("div",Rt,[Pt,_(I,{id:"portNumber",modelValue:o(s).inventoryItem.portNumber,"onUpdate:modelValue":t[11]||(t[11]=n=>o(s).inventoryItem.portNumber=n),name:"portNumber",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Kt,[Ft,_(I,{id:"mfg",modelValue:o(s).inventoryItem.manufacturer,"onUpdate:modelValue":t[12]||(t[12]=n=>o(s).inventoryItem.manufacturer=n),name:"manufacturer",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Ht,[Jt,_(I,{id:"threshold",modelValue:o(s).inventoryItem.threshold,"onUpdate:modelValue":t[13]||(t[13]=n=>o(s).inventoryItem.threshold=n),modelModifiers:{number:!0},name:"threshold",rules:"required|numeric"},null,8,["modelValue"])])])]),Wt,Gt],40,zt)]),_:1},8,["modelValue"]),_(Z,{modelValue:o(m),"onUpdate:modelValue":t[17]||(t[17]=n=>N(m)?m.value=n:null),onClose:t[18]||(t[18]=n=>m.value=!1)},{icon:b(()=>[Xt]),default:b(()=>[Yt,e("div",Zt,[e("button",{class:"btn btn--primary",style:{"background-color":"transparent","border-color":"white"},onClick:t[16]||(t[16]=n=>m.value=!o(m))}," Close "),e("button",{class:"btn btn--primary",onClick:P}," Delete ")])]),_:1},8,["modelValue"])],64)}}});const bs=ue(es,[["__scopeId","data-v-1621b10d"]]);export{bs as default};
