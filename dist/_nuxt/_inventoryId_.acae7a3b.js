import{_ as A}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as E}from"./TextInput.209286f2.js";import{_ as R}from"./TextArea.e6b77f3a.js";import{_ as z}from"./CheckBox.eb706d2c.js";import{b as L,r as W,m as H,q as K,s as P,t as Y,e as G,f as S,u as t,o as i,h as l,j as d,v as U,x as F,y as c,i as e,F as N,z as B,A as J,w as O,p as Q,k as X,l as Z}from"./entry.bbefaf41.js";import{u as ee}from"./inventory.a3e76661.js";import{u as te}from"./asyncData.35e0061c.js";import{t as ne,z as y}from"./vee-validate-zod.esm.225d6f64.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";const o=p=>(Q("data-v-89813a3b"),p=p(),X(),p),ae={key:0,class:"p-6"},oe={class:"flex justify-end"},se=["href"],re=["href"],ie={class:"flex gap-6"},le={class:"flex-1 border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},de=o(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1)),ce={class:"w-full mr-4"},me=o(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Main Identifier",-1)),ve={class:"text-white text-base"},_e=o(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 mt-4 inline-block"},"Description",-1)),ue={class:"text-white text-base"},he={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[378px]"},be=o(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Inventory ",-1)),ye={class:"w-full mr-4"},pe=o(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Current Inventory",-1)),xe={class:"text-white text-base"},fe={class:"mt-4"},De=o(()=>e("label",{for:"trackThreshold",class:"text-vvn-gray text-base mb-2 block"},"Track Inventory Threshold",-1)),Ie={class:"text-white text-base"},ke={key:0},we={key:1},ge={class:"mt-4"},Ve=o(()=>e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1)),Te={class:"text-white text-base"},qe={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},Ce=o(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1)),Se=o(()=>e("div",null,[e("p",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block w-96"}," Key "),e("p",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block w-96"}," Value ")],-1)),Ue=o(()=>e("hr",{class:"border-y-vvn-gray-90 mb-3"},null,-1)),Fe={for:"name",class:"text-base mb-2 inline-block w-96"},Ne={for:"name",class:"text-base mb-2 inline-block w-96"},Be=o(()=>e("div",null,'" "',-1)),$e={class:"font-bold text-white"},Me=o(()=>e("canvas",{class:"canvas"},null,-1)),je={class:"flex justify-end"},Ae=["href"],Ee=o(()=>e("button",{type:"submit",class:"btn btn--primary ml-4"}," Save ",-1)),Re={class:"flex gap-6"},ze={class:"flex-1 border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},Le=o(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1)),We={class:"w-full mr-4"},He=o(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Main Identifier",-1)),Ke=o(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 mt-4 inline-block"},"Description",-1)),Pe={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[378px]"},Ye=o(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Inventory ",-1)),Ge={class:"w-full mr-4"},Je=o(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Current Inventory",-1)),Oe={class:"mt-4"},Qe=o(()=>e("label",{for:"trackThreshold",class:"text-vvn-gray text-base mb-2 block"},"Track Inventory Threshold",-1)),Xe={class:"mt-4"},Ze=o(()=>e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1)),et={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},tt=o(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1)),nt={key:0},at={class:"mr-4 w-52"},ot=o(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1)),st={class:"mr-4 w-[500px]"},rt=o(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Value",-1)),it=["onClick"],lt=L({__name:"[inventoryId]",setup(p){const n=W({editInventoryData:{id:"",name:"",description:"",quantity:0,trackThreshold:!1,warehouseID:"",threshold:0,extraDetails:[]}}),s=ee(),h=H(),D=K(!1);P(()=>{h.query.edit=="true"&&(D.value=!0)}),te(async()=>{s.getInventoryItemById(h.params.inventoryId).catch(()=>{S().error("Could not fetch inventory details")})},"$wpSeawoP0E");const $=Y(()=>{var m,r,v,_,x,f,b;return n.editInventoryData.id=(m=s.inventoryData)==null?void 0:m.id,n.editInventoryData.name=((r=s.inventoryData)==null?void 0:r.name)||"",n.editInventoryData.description=((v=s.inventoryData)==null?void 0:v.description)||"",n.editInventoryData.extraDetails=[...(_=s.inventoryData)==null?void 0:_.extraDetails],n.editInventoryData.trackThreshold=((x=s.inventoryData)==null?void 0:x.trackThreshold)||!1,n.editInventoryData.threshold=((f=s.inventoryData)==null?void 0:f.threshold)||0,n.editInventoryData.quantity=((b=s.inventoryData)==null?void 0:b.quantity)||0,n.editInventoryData}),M=()=>{n.editInventoryData.extraDetails.push({name:"",value:""})},j=ne(y.object({name:y.string().nonempty("Name is required"),description:y.string().nonempty("Description is required"),quantity:y.number().min(0),threshold:y.number().min(0)})),I=G({validationSchema:j}).handleSubmit(m=>{const r={id:h.params.inventoryId,name:m.name,description:m.description,quantity:m.quantity,trackThreshold:n.editInventoryData.trackThreshold,threshold:m.threshold,extraDetails:n.editInventoryData.extraDetails.map(v=>({name:v.name,value:v.value})),warehouseID:h.params.warehouseId};s.editInventoryItem(r).then(()=>{window.location.href=`${h.params.inventoryId}`}).catch(()=>{S().error("Update failed")})});return(m,r)=>{var b,k,w,g,V,T,q,C;const v=A,_=E,x=R,f=z;return t(D)?(i(),l("form",{key:1,id:"form",class:"p-6",onSubmit:r[5]||(r[5]=O((...a)=>t(I)&&t(I)(...a),["prevent"]))},[d(v,null,{default:U(()=>{var a;return[F(" Edit "+c((a=t(s).inventoryData)==null?void 0:a.name),1)]}),_:1}),e("div",je,[e("a",{href:`${t($).id}`,class:"btn btn--secondary flex"}," Cancel ",8,Ae),Ee]),e("div",Re,[e("div",ze,[Le,e("div",We,[He,d(_,{id:"name",modelValue:t(n).editInventoryData.name,"onUpdate:modelValue":r[0]||(r[0]=a=>t(n).editInventoryData.name=a),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",null,[Ke,d(x,{id:"description",modelValue:t(n).editInventoryData.description,"onUpdate:modelValue":r[1]||(r[1]=a=>t(n).editInventoryData.description=a),name:"description",rules:"required|min:2|max:256"},null,8,["modelValue"])])]),e("div",Pe,[Ye,e("div",Ge,[Je,d(_,{id:"quantity",modelValue:t(n).editInventoryData.quantity,"onUpdate:modelValue":r[2]||(r[2]=a=>t(n).editInventoryData.quantity=a),modelModifiers:{number:!0},type:"number",name:"quantity",rules:"required|numeric"},null,8,["modelValue"])]),e("div",Oe,[Qe,d(f,{modelValue:t(n).editInventoryData.trackThreshold,"onUpdate:modelValue":r[3]||(r[3]=a=>t(n).editInventoryData.trackThreshold=a),class:"block",value:!1,name:"trackThreshold"},null,8,["modelValue"])]),e("div",Xe,[Ze,d(_,{id:"threshold",modelValue:t(n).editInventoryData.threshold,"onUpdate:modelValue":r[4]||(r[4]=a=>t(n).editInventoryData.threshold=a),modelModifiers:{number:!0},type:"number",name:"threshold",rules:"numeric",disabled:!t(n).editInventoryData.trackThreshold},null,8,["modelValue","disabled"])])])]),e("div",et,[tt,t(n).editInventoryData.extraDetails.length!=0?(i(),l("div",nt,[(i(!0),l(N,null,B(t(n).editInventoryData.extraDetails.length,a=>(i(),l("div",{key:a,class:"flex items-end mb-4"},[e("div",at,[ot,d(_,{id:"name",modelValue:t(n).editInventoryData.extraDetails[a-1].name,"onUpdate:modelValue":u=>t(n).editInventoryData.extraDetails[a-1].name=u,name:`customField${a-1}-name`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("div",st,[rt,d(_,{id:"name",modelValue:t(n).editInventoryData.extraDetails[a-1].value,"onUpdate:modelValue":u=>t(n).editInventoryData.extraDetails[a-1].value=u,name:`customField${a-1}-value`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("button",{class:"btn btn--secondary mb-1",type:"button",onClick:u=>t(n).editInventoryData.extraDetails.splice(a-1,1)}," Remove field ",8,it)]))),128))])):J("",!0),e("button",{class:"btn btn--secondary mt-5",type:"button",onClick:M}," Add Field ")])],32)):(i(),l("main",ae,[d(v,null,{default:U(()=>{var a;return[F(c((a=t(s).inventoryData)==null?void 0:a.name),1)]}),_:1}),e("div",oe,[e("a",{type:"submit",class:"btn btn--secondary ml-4 flex",href:"../inventory"}," Back ",8,se),e("a",{type:"submit",class:"btn btn--primary ml-4 flex",href:`${(b=t(s).inventoryData)==null?void 0:b.id}?edit=true`}," Edit ",8,re)]),e("div",ie,[e("div",le,[de,e("div",ce,[me,e("p",ve,c((k=t(s).inventoryData)==null?void 0:k.name),1)]),e("div",null,[_e,e("p",ue,c((w=t(s).inventoryData)==null?void 0:w.description),1)])]),e("div",he,[be,e("div",ye,[pe,e("p",xe,c((g=t(s).inventoryData)==null?void 0:g.quantity),1)]),e("div",fe,[De,e("p",Ie,[(V=t(s).inventoryData)!=null&&V.trackThreshold?(i(),l("span",ke,"Yes")):(i(),l("span",we,"No"))])]),e("div",ge,[Ve,e("p",Te,c(((T=t(s).inventoryData)==null?void 0:T.threshold)||"Not Set"),1)])])]),e("div",qe,[Ce,Se,Ue,(i(!0),l(N,null,B((q=t(s).inventoryData)==null?void 0:q.extraDetails,(a,u)=>(i(),l("div",{key:u,class:"flex items-end mb-2 text-white"},[e("p",Fe,c(a.name),1),e("p",Ne,c(a.value),1)]))),128))]),Be,e("div",null,[e("h1",$e," Live View - "+c((C=t(s).inventoryData)==null?void 0:C.name),1)]),Me]))}}});const Dt=Z(lt,[["__scopeId","data-v-89813a3b"]]);export{Dt as default};
