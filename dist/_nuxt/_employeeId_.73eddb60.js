import{_ as q}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as T}from"./TextInput.209286f2.js";import{b as j,r as M,m as R,q as z,s as A,t as L,e as P,f as I,u as t,o as p,h as _,j as c,v as C,x as S,y as m,i as e,F as N,z as F,A as W,w as H,p as K,k as G,l as J}from"./entry.bbefaf41.js";import{u as O}from"./inventory.a3e76661.js";import{u as Q}from"./asyncData.35e0061c.js";import{t as X,z as h}from"./vee-validate-zod.esm.225d6f64.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";const s=y=>(K("data-v-815e618b"),y=y(),G(),y),Y={key:0,class:"p-6"},Z={class:"flex justify-end"},ee=["href"],te=["href"],ae={class:"flex gap-6"},oe={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 h-[225px] w-[730px]"},se=s(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1)),le={class:"w-full mr-4"},ne=s(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1)),ie={class:"text-white text-base"},me=s(()=>e("label",{for:"title",class:"text-vvn-gray text-base mb-2 mt-4 inline-block"},"Title",-1)),de={class:"text-white text-base"},re={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 h-[225px] w-[450px]"},ce=s(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Contact ",-1)),pe={class:"w-full mr-4"},_e=s(()=>e("label",{for:"email",class:"text-vvn-gray text-base mb-2 inline-block"},"Email",-1)),be={class:"text-white text-base"},ue={class:"mt-4"},ve=s(()=>e("label",{for:"phone",class:"text-vvn-gray text-base mb-2 block"},"Phone",-1)),he={class:"text-white text-base"},ye={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},xe=s(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1)),fe=s(()=>e("div",null,[e("p",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block w-96"}," Key "),e("p",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block w-96"}," Value ")],-1)),De=s(()=>e("hr",{class:"border-y-vvn-gray-90 mb-3"},null,-1)),we={for:"name",class:"text-base mb-2 inline-block w-96"},ge={for:"name",class:"text-base mb-2 inline-block w-96"},Ee=s(()=>e("div",null,'" "',-1)),ke={class:"font-bold text-white"},Ve=s(()=>e("canvas",{class:"canvas"},null,-1)),Ie={class:"flex justify-end"},Ce=["href"],Se=s(()=>e("button",{type:"submit",class:"btn btn--primary ml-4"}," Save ",-1)),Ne={class:"flex gap-6"},Fe={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[730px]"},Ue=s(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1)),Be={class:"w-full mr-4"},$e=s(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1)),qe={class:"w-full mr-4"},Te=s(()=>e("label",{for:"title",class:"text-vvn-gray text-base mb-2 inline-block"},"Title",-1)),je={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[450px]"},Me=s(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Contact ",-1)),Re={class:"w-full mr-4"},ze=s(()=>e("label",{for:"email",class:"text-vvn-gray text-base mb-2 inline-block"},"Email",-1)),Ae={class:"w-full mr-4"},Le=s(()=>e("label",{for:"phone",class:"text-vvn-gray text-base mb-2 inline-block"},"Phone",-1)),Pe={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},We=s(()=>e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1)),He={key:0},Ke={class:"mr-4 w-52"},Ge=s(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1)),Je={class:"mr-4 w-[500px]"},Oe=s(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Value",-1)),Qe=["onClick"],Xe=j({__name:"[employeeId]",setup(y){const o=M({editEmployeeData:{id:"",name:"",title:"",email:"",phone:"",extraDetails:[]}}),l=O(),x=R(),f=z(!1);A(()=>{x.query.edit=="true"&&(f.value=!0)}),Q(async()=>{l.getEmployeeItemById(x.params.employeeId).catch(()=>{I().error("Could not fetch employee details")})},"$N2thiizBLb");const U=L(()=>{var d,n,r,i,u,v;return o.editEmployeeData.id=(d=l.employeeData)==null?void 0:d.id,o.editEmployeeData.name=((n=l.employeeData)==null?void 0:n.name)||"",o.editEmployeeData.title=((r=l.employeeData)==null?void 0:r.title)||"",o.editEmployeeData.extraDetails=[...(i=l.employeeData)==null?void 0:i.extraDetails],o.editEmployeeData.email=((u=l.employeeData)==null?void 0:u.email)||"",o.editEmployeeData.phone=((v=l.employeeData)==null?void 0:v.phone)||"",o.editEmployeeData}),B=()=>{o.editEmployeeData.extraDetails.push({name:"",value:""})},$=X(h.object({name:h.string().nonempty("Name is required"),title:h.string().nonempty("Description is required"),email:h.string().nonempty("Email is required"),phone:h.string().nonempty("Phone is required")})),D=P({validationSchema:$}).handleSubmit(d=>{const n={id:x.params.employeeId,name:d.name,title:d.title,email:d.email,phone:d.phone,extraDetails:o.editEmployeeData.extraDetails.map(r=>({name:r.name,value:r.value}))};l.editEmployeeItem(n).then(()=>{window.location.href=`${x.params.employeeId}`}).catch(()=>{I().error("Update failed")})});return(d,n)=>{var u,v,w,g,E,k,V;const r=q,i=T;return t(f)?(p(),_("form",{key:1,id:"form",class:"p-6",onSubmit:n[4]||(n[4]=H((...a)=>t(D)&&t(D)(...a),["prevent"]))},[c(r,null,{default:C(()=>{var a;return[S(" Edit "+m((a=t(l).employeeData)==null?void 0:a.name),1)]}),_:1}),e("div",Ie,[e("a",{href:`${t(U).id}`,class:"btn btn--secondary flex"}," Cancel ",8,Ce),Se]),e("div",Ne,[e("div",Fe,[Ue,e("div",Be,[$e,c(i,{id:"name",modelValue:t(o).editEmployeeData.name,"onUpdate:modelValue":n[0]||(n[0]=a=>t(o).editEmployeeData.name=a),name:"name"},null,8,["modelValue"])]),e("div",qe,[Te,c(i,{id:"title",modelValue:t(o).editEmployeeData.title,"onUpdate:modelValue":n[1]||(n[1]=a=>t(o).editEmployeeData.title=a),name:"title"},null,8,["modelValue"])])]),e("div",je,[Me,e("div",Re,[ze,c(i,{id:"email",modelValue:t(o).editEmployeeData.email,"onUpdate:modelValue":n[2]||(n[2]=a=>t(o).editEmployeeData.email=a),modelModifiers:{number:!0},name:"email"},null,8,["modelValue"])]),e("div",Ae,[Le,c(i,{id:"phone",modelValue:t(o).editEmployeeData.phone,"onUpdate:modelValue":n[3]||(n[3]=a=>t(o).editEmployeeData.phone=a),modelModifiers:{number:!0},name:"phone"},null,8,["modelValue"])])])]),e("div",Pe,[We,t(o).editEmployeeData.extraDetails.length!=0?(p(),_("div",He,[(p(!0),_(N,null,F(t(o).editEmployeeData.extraDetails.length,a=>(p(),_("div",{key:a,class:"flex items-end mb-4"},[e("div",Ke,[Ge,c(i,{id:"name",modelValue:t(o).editEmployeeData.extraDetails[a-1].name,"onUpdate:modelValue":b=>t(o).editEmployeeData.extraDetails[a-1].name=b,name:`customField${a-1}-name`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("div",Je,[Oe,c(i,{id:"name",modelValue:t(o).editEmployeeData.extraDetails[a-1].value,"onUpdate:modelValue":b=>t(o).editEmployeeData.extraDetails[a-1].value=b,name:`customField${a-1}-value`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("button",{class:"btn btn--secondary mb-1",type:"button",onClick:b=>t(o).editEmployeeData.extraDetails.splice(a-1,1)}," Remove field ",8,Qe)]))),128))])):W("",!0),e("button",{class:"btn btn--secondary mt-5",type:"button",onClick:B}," Add Field ")])],32)):(p(),_("main",Y,[c(r,null,{default:C(()=>{var a;return[S(m((a=t(l).employeeData)==null?void 0:a.name),1)]}),_:1}),e("div",Z,[e("a",{type:"submit",class:"btn btn--secondary ml-4 flex",href:"../employees"}," Back ",8,ee),e("a",{type:"submit",class:"btn btn--primary ml-4 flex",href:`${(u=t(l).employeeData)==null?void 0:u.id}?edit=true`}," Edit ",8,te)]),e("div",ae,[e("div",oe,[se,e("div",le,[ne,e("p",ie,m((v=t(l).employeeData)==null?void 0:v.name),1)]),e("div",null,[me,e("p",de,m((w=t(l).employeeData)==null?void 0:w.title),1)])]),e("div",re,[ce,e("div",pe,[_e,e("p",be,m((g=t(l).employeeData)==null?void 0:g.email),1)]),e("div",ue,[ve,e("p",he,m((E=t(l).employeeData)==null?void 0:E.phone),1)])])]),e("div",ye,[xe,fe,De,(p(!0),_(N,null,F((k=t(l).employeeData)==null?void 0:k.extraDetails,(a,b)=>(p(),_("div",{key:b,class:"flex items-end mb-2 text-white"},[e("p",we,m(a.name),1),e("p",ge,m(a.value),1)]))),128))]),Ee,e("div",null,[e("h1",ke," Live View - "+m((V=t(l).employeeData)==null?void 0:V.name),1)]),Ve]))}}});const mt=J(Xe,[["__scopeId","data-v-815e618b"]]);export{mt as default};
