import{b as S,r as j,q as x,o as c,h as f,i as e,u as o,A as z,c as h,v as y,F as I,z as R,j as l,y as v,w as $,B as V,d as g,_ as k}from"./entry.bbefaf41.js";import{_ as A}from"./CheckBox.eb706d2c.js";import{_ as F}from"./TableRow.74e93b63.js";import{_ as O}from"./TheTable.vue.2670ac42.js";import{_ as D}from"./DropFile.503c5f45.js";import{_ as Q}from"./TextInput.209286f2.js";import{u as G,P as H}from"./inventory.a3e76661.js";import"./Auth.625ee0a0.js";import"./index.aeb2a4e3.js";const J=g(()=>k(()=>import("./DefaultModal.189406ac.js"),["./DefaultModal.189406ac.js","./entry.bbefaf41.js","./entry.d612fb7e.css"],import.meta.url).then(a=>a.default||a)),K=g(()=>k(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(a=>a.default||a)),W={class:"mt-6 mb-4"},X={class:"mt-6 mb-4"},Y=e("h1",{class:"text-4xl font-bold text-white"}," Upload Inventory ",-1),Z={key:0,class:"flex justify-end mt-6"},ee={class:"text-base"},te={class:"text-xs text-vvn-gray text-ellipsis"},ne={class:"text-base"},oe={class:"text-base"},se={class:"text-base"},le={class:"flex justify-end"},re=["onClick"],ae=["onClick"],ie=["onSubmit"],me=e("h1",{class:"text-4xl font-bold text-white"}," Edit Item ",-1),de={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},ue={class:"flex items-start"},ce={class:"w-48 mr-4"},_e=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name/Number",-1),ve={class:"w-48 mr-4"},pe=e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1),ye={class:"w-48 mr-4"},be=e("label",{for:"portNumber",class:"text-vvn-gray text-base mb-2 inline-block"},"Port Number",-1),fe={class:"mt-4 flex"},he={class:"w-48 mr-4"},xe=e("label",{for:"mfg",class:"text-vvn-gray text-base mb-2"},"Manufacturer/Vendor",-1),Ie={class:"w-48 mr-4"},Ve=e("label",{for:"quantity",class:"text-vvn-gray text-base mb-2"},"Quantity",-1),ge={class:"w-48"},ke=e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1),qe=e("hr",{class:"w-full border border-vvn-white-10 my-6"},null,-1),Ne=e("div",{class:"flex justify-end items-center"},[e("button",{class:"btn btn--primary"}," Save ")],-1),we=e("h5",{class:"text-2xl text-white text-center mt-4"}," Inventory created successfully ",-1),Le={class:"flex justify-center mt-8"},ze=S({__name:"csv",setup(a){const q=G(),t=j({selected:[],inventoryList:[],inventoryItem:{name:"",description:"",totalInventory:0,manufacturer:""},selectedItem:null}),i=x(!1),m=x(!1),N=async r=>{H.parse(r,{header:!0,complete:n=>{n.data.forEach(d=>{t.inventoryList.push({...d,threshold:Number(d.threshold),quantity:Number(d.quantity),totalInventory:Number(d.quantity)})})}})},w=r=>{t.inventoryList.splice(r,1)},L=r=>{t.selectedItem=r;const n=t.inventoryList[r];t.inventoryItem.name=n.name,t.inventoryItem.description=n.description,t.inventoryItem.manufacturer=n.manufacturer,t.inventoryItem.quantity=n.quantity,t.inventoryItem.threshold=n.threshold,t.inventoryItem.portNumber=n.portNumber,i.value=!0},C=()=>{t.inventoryList[t.selectedItem]=t.inventoryItem,console.log(t.inventoryList),i.value=!1},U=()=>{q.createBulkInventoryInstance(t.inventoryList).then(()=>{m.value=!0,t.inventoryList=[]})};return(r,n)=>{const d=A,E=F,M=O,T=D,u=Q,B=J,P=K;return c(),f(I,null,[e("div",W,[e("div",X,[Y,o(t).inventoryList.length!=0?(c(),f("div",Z,[e("button",{class:"btn btn--primary",type:"submit",onClick:U}," Save ")])):z("",!0)])]),o(t).inventoryList.length!=0?(c(),h(M,{key:0,rows:["","Item Name","Manufacturer","Quantity","Threshold"],"template-columns":{"grid-template-columns":"5% 25% 25% 15% 20% 10%"}},{default:y(()=>[(c(!0),f(I,null,R(o(t).inventoryList,(s,p)=>(c(),h(E,{key:p,data:s,class:"mb-3","toggle-details":!1,"template-columns":{"grid-template-columns":"5% 25% 25% 15% 20% 10%"}},{"row-data":y(_=>[e("td",null,[l(d,{modelValue:o(t).selected,"onUpdate:modelValue":n[0]||(n[0]=b=>o(t).selected=b),value:p},null,8,["modelValue","value"])]),e("td",null,[e("p",ee,v(_.name),1),e("small",te,v(_.description),1)]),e("td",ne,v(_.manufacturer),1),e("td",oe,v(_.quantity),1),e("td",se,v(_.threshold),1),e("td",le,[e("button",{class:"btn btn--secondary mr-3",onClick:b=>w(p)}," Remove ",8,re),e("button",{class:"btn btn--primary",onClick:b=>L(p)}," Edit ",8,ae)])]),_:2},1032,["data"]))),128))]),_:1})):(c(),h(T,{key:1,onChange:N})),l(B,{modelValue:o(i),"onUpdate:modelValue":n[7]||(n[7]=s=>V(i)?i.value=s:null),onClose:n[8]||(n[8]=s=>i.value=!1)},{default:y(()=>[e("form",{id:"form",class:"p-6",onSubmit:$(C,["prevent"])},[me,e("div",de,[e("div",ue,[e("div",ce,[_e,l(u,{id:"name",modelValue:o(t).inventoryItem.name,"onUpdate:modelValue":n[1]||(n[1]=s=>o(t).inventoryItem.name=s),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",ve,[pe,l(u,{id:"description",modelValue:o(t).inventoryItem.description,"onUpdate:modelValue":n[2]||(n[2]=s=>o(t).inventoryItem.description=s),name:"description",rules:"required|min:2"},null,8,["modelValue"])]),e("div",ye,[be,l(u,{id:"portNumber",modelValue:o(t).inventoryItem.portNumber,"onUpdate:modelValue":n[3]||(n[3]=s=>o(t).inventoryItem.portNumber=s),name:"portNumber",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",fe,[e("div",he,[xe,l(u,{id:"mfg",modelValue:o(t).inventoryItem.manufacturer,"onUpdate:modelValue":n[4]||(n[4]=s=>o(t).inventoryItem.manufacturer=s),name:"manufacturer",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Ie,[Ve,l(u,{id:"quantity",modelValue:o(t).inventoryItem.quantity,"onUpdate:modelValue":n[5]||(n[5]=s=>o(t).inventoryItem.quantity=s),modelModifiers:{number:!0},name:"quantity",rules:"required|numeric"},null,8,["modelValue"])]),e("div",ge,[ke,l(u,{id:"threshold",modelValue:o(t).inventoryItem.threshold,"onUpdate:modelValue":n[6]||(n[6]=s=>o(t).inventoryItem.threshold=s),modelModifiers:{number:!0},name:"threshold",rules:"required|numeric"},null,8,["modelValue"])])])]),qe,Ne],40,ie)]),_:1},8,["modelValue"]),l(P,{modelValue:o(m),"onUpdate:modelValue":n[10]||(n[10]=s=>V(m)?m.value=s:null)},{default:y(()=>[we,e("div",Le,[e("button",{class:"btn btn--primary mr-5",style:{"background-color":"transparent","border-color":"white"},onClick:n[9]||(n[9]=s=>m.value=!o(m))}," Close ")])]),_:1},8,["modelValue"])],64)}}});export{ze as default};
