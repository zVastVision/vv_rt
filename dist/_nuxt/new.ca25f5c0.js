import{b as w,m as F,r as k,q as C,e as q,o as _,h as b,i as e,j as a,v as h,x as U,u as t,F as x,z as E,w as I,B as N,d as S,_ as B}from"./entry.bbefaf41.js";import{_ as R}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as $}from"./TextInput.209286f2.js";import{u as T}from"./inventory.a3e76661.js";import{t as j,z as d}from"./vee-validate-zod.esm.225d6f64.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";import"./asyncData.35e0061c.js";const z=S(()=>B(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(p=>p.default||p)),A={class:"flex justify-end"},P=["href"],D=e("button",{type:"submit",class:"btn btn--primary ml-4"}," Save ",-1),L={class:"flex gap-6"},M={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 h-[250px] w-[730px]"},O=e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1),W={class:"w-full mr-4"},H=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1),G={class:"w-full mr-4"},J=e("label",{for:"title",class:"text-vvn-gray text-base mb-2 inline-block"},"Title",-1),K={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 h-[250px] w-[450px]"},Q=e("p",{class:"text-2xl text-vvn-green mb-3"}," Contact ",-1),X={class:"w-full mr-4"},Y=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Email",-1),Z={class:"w-full mr-4"},ee=e("label",{for:"phone",class:"text-vvn-gray text-base mb-2 inline-block"},"Phone",-1),te={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},oe=e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1),ne={class:"mr-4 w-52"},le=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1),se={class:"mr-4 w-[500px]"},ae=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Value",-1),ie=["onClick"],re=e("h5",{class:"text-2xl text-white text-center mt-4"}," Inventory created successfully ",-1),me={class:"flex justify-center mt-8"},de={class:"btn btn--primary mr-5",style:{"background-color":"transparent","border-color":"white"}},ue=["href"],ge=w({__name:"new",setup(p){const f=T();F();const o=k({name:"",title:"",extraFields:[],email:"",phone:""}),u=C(!1),y=j(d.object({name:d.string().nonempty("Name is required"),title:d.string().nonempty("Description is required"),email:d.string().nonempty("Email is required"),phone:d.string().nonempty("Phone is required")})),v=q({validationSchema:y}).handleSubmit(i=>{const n={name:i.name,title:i.title,email:i.email,phone:i.phone,extraDetails:o.extraFields.map(r=>({name:r.name,value:r.value}))};f.createEmployeeInstance(n).then(()=>{u.value=!0,document.getElementById("form").reset()}).catch(r=>{console.log(r)})}),V=()=>{o.extraFields.push({name:"",value:""})};return(i,n)=>{const r=R,m=$,g=z;return _(),b(x,null,[e("form",{id:"form",class:"p-6",onSubmit:n[4]||(n[4]=I((...l)=>t(v)&&t(v)(...l),["prevent"]))},[a(r,null,{default:h(()=>[U("Add Employee")]),_:1}),e("div",A,[e("a",{href:`/warehouse-${i.$route.params.warehouseId}/employees`,class:"btn btn--secondary flex"}," Cancel ",8,P),D]),e("div",L,[e("div",M,[O,e("div",W,[H,a(m,{id:"name",modelValue:t(o).name,"onUpdate:modelValue":n[0]||(n[0]=l=>t(o).name=l),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",G,[J,a(m,{id:"title",modelValue:t(o).title,"onUpdate:modelValue":n[1]||(n[1]=l=>t(o).title=l),name:"title",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",K,[Q,e("div",X,[Y,a(m,{id:"email",modelValue:t(o).email,"onUpdate:modelValue":n[2]||(n[2]=l=>t(o).email=l),name:"email",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Z,[ee,a(m,{id:"phone",modelValue:t(o).phone,"onUpdate:modelValue":n[3]||(n[3]=l=>t(o).phone=l),name:"phone",rules:"required|min:2"},null,8,["modelValue"])])])]),e("div",te,[oe,e("div",null,[(_(!0),b(x,null,E(t(o).extraFields.length,(l,s)=>(_(),b("div",{key:s,class:"flex items-end mb-4"},[e("div",ne,[le,a(m,{id:"name",modelValue:t(o).extraFields[s].name,"onUpdate:modelValue":c=>t(o).extraFields[s].name=c,name:`customField${s}-name`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("div",se,[ae,a(m,{id:"name",modelValue:t(o).extraFields[s].value,"onUpdate:modelValue":c=>t(o).extraFields[s].value=c,name:`customField${s}-value`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("button",{class:"btn btn--secondary mb-1",type:"button",onClick:c=>t(o).extraFields.splice(s,1)}," Remove field ",8,ie)]))),128))]),e("button",{class:"btn btn--secondary mt-5",type:"button",onClick:V}," Add Field ")])],32),a(g,{modelValue:t(u),"onUpdate:modelValue":n[5]||(n[5]=l=>N(u)?u.value=l:null)},{default:h(()=>[re,e("div",me,[e("button",de,[e("a",{href:"../employees"},"Close",8,ue)])])]),_:1},8,["modelValue"])],64)}}});export{ge as default};
