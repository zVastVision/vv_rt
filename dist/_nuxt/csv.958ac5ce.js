import{b as O,o as m,h as x,i as e,y as c,r as ee,q as M,m as te,M as ne,J as D,H as P,u as s,A as oe,c as S,v as g,F as E,z as se,j as r,w as j,B as k,d as R,C as le,_ as A}from"./entry.bbefaf41.js";import{_ as re}from"./CheckBox.eb706d2c.js";import{_ as ae}from"./TableRow.74e93b63.js";import{_ as ie}from"./TheTable.vue.2670ac42.js";import{_ as de}from"./DropFile.503c5f45.js";import{_ as me}from"./TextInput.209286f2.js";import{u as ue,P as ce}from"./inventory.a3e76661.js";import{u as z}from"./asyncData.35e0061c.js";import{u as B}from"./useLocalStorage.e123f57a.js";import{_ as _e,a as ve}from"./caret-up.def38cf8.js";import"./Auth.625ee0a0.js";import"./index.aeb2a4e3.js";const pe={class:"flex p-5 items-end justify-between"},ye={class:"grid grid-cols-4 gap-2 w-8/12"},be={class:"table_details_card"},he=e("p",{class:"table_details_card__heading text-vvn-blue"}," Name ",-1),fe={class:"table_details_card__body--regular line-clamp-1"},Ie={class:"table_details_card"},ge=e("p",{class:"table_details_card__heading text-vvn-blue"}," Customer ",-1),xe={class:"table_details_card__body--regular line-clamp-1"},Ve=e("div",null,null,-1),we=e("div",null,null,-1),Ce={class:"table_details_card"},ke=e("p",{class:"table_details_card__heading text-vvn-green"}," Total Inventory ",-1),Ne={class:"table_details_card__body--regular"},Le={class:"table_details_card"},qe=e("p",{class:"table_details_card__heading text-vvn-green"}," Threshold ",-1),$e={class:"table_details_card__body--regular"},Me=O({__name:"Details_Inv_Csv",props:{data:{}},setup(_){return(d,V)=>(m(),x("div",pe,[e("div",ye,[e("div",be,[he,e("p",fe,c(d.data.name),1)]),e("div",Ie,[ge,e("p",xe,c(d.data.product_id),1)]),Ve,we,e("div",Ce,[ke,e("p",Ne,c(d.data.quantity),1)]),e("div",Le,[qe,e("p",$e,c(d.data.threshold),1)])])]))}}),Se=R(()=>A(()=>import("./DefaultModal.189406ac.js"),["./DefaultModal.189406ac.js","./entry.bbefaf41.js","./entry.d612fb7e.css"],import.meta.url).then(_=>_.default||_)),Ue=R(()=>A(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(_=>_.default||_)),Te={class:"mt-6 mb-4"},De={class:"mt-6 mb-4"},Pe=e("h1",{class:"text-4xl font-bold text-white"}," Upload Inventory ",-1),Ee={class:"mb-5 flex list-none flex-col flex-wrap pl-0 md:flex-row",id:"pills-tab",role:"tablist","data-te-nav-ref":""},je={role:"presentation"},ze={role:"presentation"},Be={key:0,class:"flex justify-end mt-6"},Oe={class:"text-base"},Re={class:"text-xs text-vvn-gray text-ellipsis"},Ae={class:"text-base"},Fe={class:"text-base"},Qe={class:"flex justify-end"},Je=["onClick"],Ge=["onClick"],He={class:"flex justify-end"},Ke=["onClick"],We=e("img",{src:_e,alt:"down"},null,-1),Xe=[We],Ye=e("img",{src:ve,alt:"down"},null,-1),Ze=[Ye],et=["onSubmit"],tt=e("h1",{class:"text-4xl font-bold text-white"}," Mapping Function ",-1),nt={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},ot={class:"flex items-start"},st={class:"w-48 mr-4"},lt=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name/Number",-1),rt={class:"w-48 mr-4"},at=e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1),it={class:"w-48 mr-4"},dt=e("label",{for:"portNumber",class:"text-vvn-gray text-base mb-2 inline-block"},"Port Number",-1),mt={class:"mt-4 flex"},ut={class:"w-48 mr-4"},ct=e("label",{for:"mfg",class:"text-vvn-gray text-base mb-2"},"Manufacturer/Vendor",-1),_t={class:"w-48 mr-4"},vt=e("label",{for:"quantity",class:"text-vvn-gray text-base mb-2"},"Quantity",-1),pt={class:"w-48"},yt=e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1),bt=e("hr",{class:"w-full border border-vvn-white-10 my-6"},null,-1),ht={class:"flex justify-end items-center"},ft=["onSubmit"],It=e("h1",{class:"text-4xl font-bold text-white"}," Mapping Function ",-1),gt={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},xt={class:"flex items-start"},Vt={class:"w-48 mr-4"},wt=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name/Number",-1),Ct={class:"w-48 mr-4"},kt=e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1),Nt={class:"w-48 mr-4"},Lt=e("label",{for:"portNumber",class:"text-vvn-gray text-base mb-2 inline-block"},"Port Number",-1),qt={class:"mt-4 flex"},$t={class:"w-48 mr-4"},Mt=e("label",{for:"mfg",class:"text-vvn-gray text-base mb-2"},"Manufacturer/Vendor",-1),St={class:"w-48 mr-4"},Ut=e("label",{for:"quantity",class:"text-vvn-gray text-base mb-2"},"Quantity",-1),Tt={class:"w-48"},Dt=e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1),Pt=e("hr",{class:"w-full border border-vvn-white-10 my-6"},null,-1),Et={class:"flex justify-end items-center"},jt=e("h5",{class:"text-2xl text-white text-center mt-4"}," Inventory created successfully ",-1),zt={class:"flex justify-center mt-8"},Bt=["href"],Zt=O({__name:"csv",async setup(_){let d,V;const N=ue(),t=ee({selected:[],inventoryList:[],prevInventoryList:[],inventoryItem:{name:"",description:"",totalInventory:0,manufacturer:""},selectedItem:null,toggledItem:"",inventoryItemList:[]}),p=M(!1),y=M(!1),b=M(!1);var h=!0,w=!1,u=!1;const U=le(),L=te();ne(()=>{});const F=()=>{console.log("ITEM"),h=!0,w=!1,t.prevInventoryList=t.inventoryList,t.inventoryList=B(U.encodingInvQueue)||[],t.inventoryList=t.prevInventoryList},Q=()=>{console.log("PROD"),h=!1,w=!0,t.prevInventoryList=t.inventoryList,t.inventoryList=B(U.encodingInvQueue)||[],t.inventoryList=t.prevInventoryList};[d,V]=D(()=>z("",()=>N.getInventoryItems({page:0,size:20}))),await d,V(),[d,V]=D(()=>z("",()=>N.getItems({page:0,size:100}))),await d,V();const J=async v=>{ce.parse(v,{header:!0,complete:n=>{let i=1;n.data.forEach(l=>{if(console.log(l),console.log(h),l.Company!=""&&h==!0)if(t.inventoryList.length==0)t.inventoryList.push({...l,id:Number(i),name:l["Standard Description"],product_id:l["Customer No"],description:l["Standard Class"],threshold:Number(l.threshold)||0,trackThreshold:!1,quantity:1,warehouseID:L.params.warehouseId}),i=i+1;else{let f=t.inventoryList.map(q=>q.name).indexOf(l["Standard Description"]);console.log(f),f<0?(t.inventoryList.push({...l,id:Number(i),name:l["Standard Description"],product_id:l["Customer No"],description:l["Standard Class"],threshold:Number(l.threshold)||0,trackThreshold:!1,quantity:1,warehouseID:L.params.warehouseId}),i=i+1):t.inventoryList[f].quantity=t.inventoryList[f].quantity+1}l.Company!=""&&w==!0&&(t.inventoryList.push({...l,id:Number(i),name:l["Standard Description"],product_id:l["Customer No"],description:l["Standard Class"],threshold:Number(l.threshold)||0,quantity:Number(l.quantity)||0,trackThreshold:!1,warehouseID:L.params.warehouseId}),i=i+1)})}}),y.value=!0},G=v=>{t.inventoryList.splice(v,1)},H=v=>{t.selectedItem=v;const n=t.inventoryList[v];t.inventoryItem.name=n.name,t.inventoryItem.description=n.description,t.inventoryItem.manufacturer=n.manufacturer,t.inventoryItem.quantity=n.quantity,t.inventoryItem.threshold=n.threshold,t.inventoryItem.portNumber=n.portNumber,p.value=!0},K=()=>{u==!0&&(t.inventoryList[t.selectedItem]=t.inventoryItem,p.value=!1)},W=()=>{u==!0&&(y.value=!1)},X=()=>{N.createBulkInventoryInstance(t.inventoryList).then(()=>{b.value=!0,t.inventoryList=[]})};return(v,n)=>{const i=re,l=Me,f=ae,q=ie,Y=de,a=me,T=Se,Z=Ue;return m(),x(E,null,[e("div",Te,[e("div",De,[Pe,e("ul",Ee,[e("li",je,[e("button",{class:P({default_csv:!s(h),green_csv:s(h)}),onClick:n[0]||(n[0]=o=>F())}," Item Mode ",2)]),e("li",ze,[e("button",{class:P({default_csv:!s(w),green_csv:s(w)}),onClick:n[1]||(n[1]=o=>Q())}," Product Mode ",2)])]),s(t).inventoryList.length!=0?(m(),x("div",Be,[e("button",{class:"btn btn--primary",type:"submit",onClick:X}," Save ")])):oe("",!0)])]),s(t).inventoryList.length!=0?(m(),S(q,{key:0,rows:["","Item Name","Customer","Total Inventory",""],"template-columns":{"grid-template-columns":"5% 25% 25% 15% 20% 10%"}},{default:g(()=>[(m(!0),x(E,null,se(s(t).inventoryList,(o,$)=>(m(),S(f,{key:$,data:o,class:"mb-3","toggle-details":s(t).toggledItem==o.id,"template-columns":{"grid-template-columns":"5% 25% 25% 15% 20% 10%"}},{"row-data":g(I=>[e("td",null,[r(i,{modelValue:s(t).selected,"onUpdate:modelValue":n[2]||(n[2]=C=>s(t).selected=C),value:o.id},null,8,["modelValue","value"])]),e("td",null,[e("p",Oe,c(I.name),1),e("small",Re,c(I.description),1)]),e("td",Ae,c(I.product_id),1),e("td",Fe,c(I.quantity),1),e("td",Qe,[e("button",{class:"btn btn--secondary mr-3",onClick:C=>G($)}," Remove ",8,Je),e("button",{class:"btn btn--primary",onClick:C=>H($)}," Edit ",8,Ge)]),e("td",He,[s(t).toggledItem!=I.id?(m(),x("button",{key:0,class:"mr-11",onClick:C=>s(t).toggledItem=I.id},Xe,8,Ke)):(m(),x("button",{key:1,class:"mr-11",onClick:n[3]||(n[3]=C=>s(t).toggledItem=-1)},Ze))])]),details:g(()=>[r(l,{data:o},null,8,["data"])]),_:2},1032,["data","toggle-details"]))),128))]),_:1})):(m(),S(Y,{key:1,onChange:J})),r(T,{modelValue:s(p),"onUpdate:modelValue":n[11]||(n[11]=o=>k(p)?p.value=o:null),onClose:n[12]||(n[12]=o=>p.value=!1)},{default:g(()=>[e("form",{id:"form",class:"p-6",onSubmit:j(K,["prevent"])},[tt,e("div",nt,[e("div",ot,[e("div",st,[lt,r(a,{id:"name",modelValue:s(t).inventoryItem.name,"onUpdate:modelValue":n[4]||(n[4]=o=>s(t).inventoryItem.name=o),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",rt,[at,r(a,{id:"description",modelValue:s(t).inventoryItem.description,"onUpdate:modelValue":n[5]||(n[5]=o=>s(t).inventoryItem.description=o),name:"description",rules:"required|min:2"},null,8,["modelValue"])]),e("div",it,[dt,r(a,{id:"portNumber",modelValue:s(t).inventoryItem.portNumber,"onUpdate:modelValue":n[6]||(n[6]=o=>s(t).inventoryItem.portNumber=o),name:"portNumber",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",mt,[e("div",ut,[ct,r(a,{id:"mfg",modelValue:s(t).inventoryItem.manufacturer,"onUpdate:modelValue":n[7]||(n[7]=o=>s(t).inventoryItem.manufacturer=o),name:"manufacturer",rules:"required|min:2"},null,8,["modelValue"])]),e("div",_t,[vt,r(a,{id:"quantity",modelValue:s(t).inventoryItem.quantity,"onUpdate:modelValue":n[8]||(n[8]=o=>s(t).inventoryItem.quantity=o),modelModifiers:{number:!0},name:"quantity",rules:"required|numeric"},null,8,["modelValue"])]),e("div",pt,[yt,r(a,{id:"threshold",modelValue:s(t).inventoryItem.threshold,"onUpdate:modelValue":n[9]||(n[9]=o=>s(t).inventoryItem.threshold=o),modelModifiers:{number:!0},name:"threshold",rules:"required|numeric"},null,8,["modelValue"])])])]),bt,e("div",ht,[e("button",{class:"btn btn--primary",onClick:n[10]||(n[10]=o=>k(u)?u.value=!0:u=!0)}," Save ")])],40,et)]),_:1},8,["modelValue"]),r(T,{modelValue:s(y),"onUpdate:modelValue":n[20]||(n[20]=o=>k(y)?y.value=o:null),onClose:n[21]||(n[21]=o=>y.value=!1)},{default:g(()=>[e("form",{id:"form",class:"p-6",onSubmit:j(W,["prevent"])},[It,e("div",gt,[e("div",xt,[e("div",Vt,[wt,r(a,{id:"name",modelValue:s(t).inventoryItem.name,"onUpdate:modelValue":n[13]||(n[13]=o=>s(t).inventoryItem.name=o),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Ct,[kt,r(a,{id:"description",modelValue:s(t).inventoryItem.description,"onUpdate:modelValue":n[14]||(n[14]=o=>s(t).inventoryItem.description=o),name:"description",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Nt,[Lt,r(a,{id:"portNumber",modelValue:s(t).inventoryItem.portNumber,"onUpdate:modelValue":n[15]||(n[15]=o=>s(t).inventoryItem.portNumber=o),name:"portNumber",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",qt,[e("div",$t,[Mt,r(a,{id:"mfg",modelValue:s(t).inventoryItem.manufacturer,"onUpdate:modelValue":n[16]||(n[16]=o=>s(t).inventoryItem.manufacturer=o),name:"manufacturer",rules:"required|min:2"},null,8,["modelValue"])]),e("div",St,[Ut,r(a,{id:"quantity",modelValue:s(t).inventoryItem.quantity,"onUpdate:modelValue":n[17]||(n[17]=o=>s(t).inventoryItem.quantity=o),modelModifiers:{number:!0},name:"quantity",rules:"required|numeric"},null,8,["modelValue"])]),e("div",Tt,[Dt,r(a,{id:"threshold",modelValue:s(t).inventoryItem.threshold,"onUpdate:modelValue":n[18]||(n[18]=o=>s(t).inventoryItem.threshold=o),modelModifiers:{number:!0},name:"threshold",rules:"required|numeric"},null,8,["modelValue"])])])]),Pt,e("div",Et,[e("button",{class:"btn btn--primary",onClick:n[19]||(n[19]=o=>k(u)?u.value=!0:u=!0)}," Save ")])],40,ft)]),_:1},8,["modelValue"]),r(Z,{modelValue:s(b),"onUpdate:modelValue":n[23]||(n[23]=o=>k(b)?b.value=o:null)},{default:g(()=>[jt,e("div",zt,[e("button",{class:"btn btn--primary mr-5",style:{"background-color":"transparent","border-color":"white"},onClick:n[22]||(n[22]=o=>b.value=!s(b))},[e("a",{href:"../inventory"},"Close",8,Bt)])])]),_:1},8,["modelValue"])],64)}}});export{Zt as default};
