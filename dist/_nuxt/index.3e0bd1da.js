import{b as D,o as i,h as r,i as e,y as A,f as g,C as Q,D as te,q,s as se,E as T,n as oe,g as ne,G as le,H as w,u as s,l as j,r as ae,t as ie,I as de,J as re,j as d,v,x as V,K as ue,L as ce,B as $,c as z,F as B,z as me,w as _e,d as U,p as pe,k as ve,_ as L}from"./entry.bbefaf41.js";import{_ as fe}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as be}from"./SearchInput.vue.b95c3b48.js";import{_ as he}from"./CheckBox.eb706d2c.js";import{u as M,a as R}from"./useLocalStorage.e123f57a.js";import{_ as ge}from"./TheTable.vue.2670ac42.js";import{_ as ye}from"./TextInput.209286f2.js";import{u as xe}from"./asyncData.35e0061c.js";import{u as we}from"./inventory.a3e76661.js";import{u as Ie}from"./debounce.2d63c4c2.js";import{_ as P,a as qe}from"./caret-up.def38cf8.js";import{_ as Ve}from"./lost.1164ba4f.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";const Ce={class:"flex p-5 items-end justify-between"},ke={class:"grid grid-cols-4 gap-2 w-8/12"},Ee={class:"table_details_card"},$e=e("p",{class:"table_details_card__heading text-vvn-blue"}," Part ID ",-1),Ae={class:"table_details_card__body--regular"},De={class:"flex gap-5"},Ne=["href"],Se=D({__name:"Details_Equipment",props:{data:{}},setup(a){const _=a,c=Q(),y=()=>{const o=M(c.encodingQueue);o.find(f=>f.id===_.data.id)?g().error("Item already exists in encoding queue"):(o.push({..._.data,quantity:1}),R(c.encodingQueue,o),g().success("Added to encoding queue"))};return(o,u)=>(i(),r("div",Ce,[e("div",ke,[e("div",Ee,[$e,e("p",Ae,A(o.data.part_id),1)])]),e("div",De,[e("a",{class:"btn btn--secondary flex",href:`equipment/${o.data.id}`}," More Info ",8,Ne),e("button",{class:"btn btn--primary",onClick:y}," Add To Encoding Queue ")])]))}}),Te={class:"row__details overflow-hidden relative"},ze=D({__name:"TableRow_Equipment",props:{data:{type:Object,required:!0},toggleDetails:{type:Boolean,required:!1,default:!1},templateColumns:{type:Object,required:!1,default:()=>({"grid-template-columns":"repeat(5, minmax(0, 1fr))"})}},setup(a){te(c=>({"5d0412c8":s(_)}));const _=q("0px");return se(()=>{document.getElementsByClassName("row__details")[0],_.value="100px"}),(c,y)=>(i(),r("div",{class:w(["border-2 border-vvn-white-15 rounded-lg row relative justify-start",{active:a.toggleDetails}])},[e("div",{class:"grid row__summary py-3 h-20 align-middle items-center",style:le(a.templateColumns)},[T(c.$slots,"row-data",oe(ne(a.data)),void 0,!0)],4),e("div",Te,[T(c.$slots,"details",{},void 0,!0)])],2))}});const Be=j(ze,[["__scopeId","data-v-6f441b5f"]]),Qe=U(()=>L(()=>import("./DefaultModal.189406ac.js"),["./DefaultModal.189406ac.js","./entry.bbefaf41.js","./entry.d612fb7e.css"],import.meta.url).then(a=>a.default||a)),je=U(()=>L(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(a=>a.default||a)),l=a=>(pe("data-v-f11db189"),a=a(),ve(),a),Ue={class:"mt-6 mb-4"},Le={class:"flex justify-between"},Me={class:"flex items-end"},Re={class:"relative"},Pe=["disabled"],Oe={class:"py-2"},He=l(()=>e("hr",null,null,-1)),Fe={class:"py-2"},Ge={class:"py-2 w-full"},Je=["href"],We=l(()=>e("hr",null,null,-1)),Ke={class:"py-2"},Xe=l(()=>e("hr",null,null,-1)),Ye={class:"py-2"},Ze={class:"relative"},et=l(()=>e("li",{class:"py-2"},[e("a",{href:"equipment/new"},"Equipment Item")],-1)),tt=l(()=>e("hr",null,null,-1)),st=l(()=>e("hr",null,null,-1)),ot=l(()=>e("li",{class:"py-2"},[e("a",{href:"equipment/csv"},"Upload csv")],-1)),nt=[et,tt,st,ot],lt={key:0,class:"w-full h-[30rem] flex justify-center items-center"},at=l(()=>e("img",{src:Ve,alt:""},null,-1)),it={key:0,class:"text-vvn-gray-90 text-center text-lg mt-6"},dt={key:1,class:"text-vvn-gray-90 text-center text-lg mt-6"},rt={class:"pr-3"},ut={class:"text-base relative"},ct={class:"text-xs text-vvn-gray line-clamp-1"},mt={class:"flex justify-end"},_t=["onClick"],pt=l(()=>e("img",{src:P,alt:"down"},null,-1)),vt=[pt],ft=l(()=>e("img",{src:qe,alt:"down"},null,-1)),bt=[ft],ht=["onSubmit"],gt=l(()=>e("h1",{class:"text-4xl font-bold text-white"}," Edit Item ",-1)),yt={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4"},xt={class:"flex items-start"},wt={class:"w-48 mr-4"},It=l(()=>e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name/Number",-1)),qt={class:"w-48 mr-4"},Vt=l(()=>e("label",{for:"description",class:"text-vvn-gray text-base mb-2 inline-block"},"Description",-1)),Ct={class:"mt-4 flex"},kt={class:"w-48 mr-4"},Et=l(()=>e("label",{for:"portNumber",class:"text-vvn-gray text-base mb-2"},"Port Number",-1)),$t={class:"w-48 mr-4"},At=l(()=>e("label",{for:"mfg",class:"text-vvn-gray text-base mb-2"},"Manufacturer/Vendor",-1)),Dt={class:"w-48"},Nt=l(()=>e("label",{for:"threshold",class:"text-vvn-gray text-base mb-2"},"Inventory Threshold",-1)),St=l(()=>e("hr",{class:"w-full border border-vvn-white-10 my-6"},null,-1)),Tt=l(()=>e("div",{class:"flex justify-end items-center"},[e("button",{class:"btn btn--primary"}," Save ")],-1)),zt=l(()=>e("p",{class:"text-xl text-white"}," ? ",-1)),Bt=l(()=>e("h4",{class:"text-xl text-white text-center mt-3"},[V(" Are you sure you want"),e("br"),V(" to delete selected items? ")],-1)),Qt={class:"flex justify-center gap-4 mt-4"},jt=D({__name:"index",async setup(a){let _,c;const y=Q(),o=ae({dropdownActive:!1,selected:[],toggledItem:"",inventoryItem:{id:"",name:"",description:"",totalInventory:0,manufacturer:""}}),u=we(),f=q(!1),p=Ie("",200),m=q(!1),b=q(!1),C=ie(()=>p.value==""?u.equipmentList:u.equipmentSearch);de(p,async h=>{u.searchEquipmentItem(h,{page:0,size:100})}),[_,c]=re(()=>xe("",()=>u.getEquipmentItems({}))),await _,c();const O=()=>{u.deleteEquipment(o.selected).then(()=>{u.getEquipmentItems({}),o.selected=[],m.value=!1,g().success("Equipment Deleted")})},H=async()=>{},N=async()=>{const h=M(y.encodingQueue);for(let t=0;t<o.selected.length;t++)h.find(k=>k.id===o.selected[t])?g().error("Item already exists in encoding queue"):u.getEquipmentItemById(o.selected[t]).then(()=>{h.push({...u.equipmentData,quantity:1}),R(y.encodingQueue,h),g().success("Equipment Added to encoding queue")}).catch(()=>{g().error("Item not found in database")})},F=()=>setTimeout(()=>b.value=!1,100),G=()=>setTimeout(()=>o.dropdownActive=!1,100);return(h,t)=>{const S=fe,k=be,J=he,W=Se,K=Be,X=ge,x=ye,Y=Qe,Z=je;return i(),r(B,null,[e("div",Ue,[d(S,null,{default:v(()=>[V("Equipment")]),_:1}),e("div",Le,[e("div",null,[ue(d(k,{modelValue:s(p),"onUpdate:modelValue":t[0]||(t[0]=n=>$(p)?p.value=n:null),modelModifiers:{trim:!0,lazy:!0},"show-secondary-icon":!0,class:"w-[19rem] mt-4"},null,8,["modelValue"]),[[ce,s(C).length!=0||s(p).value!=""]])]),e("div",Me,[e("div",Re,[e("button",{class:"btn btn--secondary mr-2 flex gap-2",disabled:s(o).selected.length<1,onClick:t[1]||(t[1]=n=>b.value=!s(b)),onBlur:F},[V(" Actions "),e("img",{class:w(["caret",{active:s(b)}]),src:P,alt:"down"},null,2)],40,Pe),s(o).selected.length>1?(i(),r("ul",{key:0,class:w(["dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:s(b)}])},[e("li",Oe,[e("button",{onClick:t[2]||(t[2]=n=>m.value=!0)},"Delete")]),He,e("li",Fe,[e("button",{onClick:t[3]||(t[3]=n=>N())},"Add to Encoding Queue")])],2)):(i(),r("ul",{key:1,class:w(["actions-dropdown dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:s(b)}])},[e("li",Ge,[e("a",{href:`equipment/${s(o).selected[0]}?edit=true`},"Edit",8,Je)]),We,e("li",Ke,[e("button",{onClick:t[4]||(t[4]=n=>m.value=!0)},"Delete")]),Xe,e("li",Ye,[e("button",{onClick:t[5]||(t[5]=n=>N())},"Add to Encoding Queue")])],2))]),e("div",Ze,[e("button",{class:"btn btn--primary appearance-none",onClick:t[6]||(t[6]=n=>s(o).dropdownActive=!s(o).dropdownActive),onBlur:G}," + Add New ",32),e("ul",{class:w(["dropdown w-48 bg-vvn-gray text-white text-center rounded-lg absolute z-30 -ml-14 mt-2",{active:s(o).dropdownActive}])},nt,2)])])])]),s(C).length==0?(i(),r("div",lt,[e("div",null,[at,s(p).value==""?(i(),r("p",it," No equipment created ")):(i(),r("p",dt," No equipment return from search "))])])):(i(),z(X,{key:1,rows:["","Name",""],"template-columns":{"grid-template-columns":"5% 85% 10%"}},{default:v(()=>[(i(!0),r(B,null,me(s(C),(n,ee)=>(i(),z(K,{key:ee,data:n,class:"mb-3","toggle-details":s(o).toggledItem==n.id,"template-columns":{"grid-template-columns":"5% 85% 10%"}},{"row-data":v(I=>[e("td",null,[d(J,{modelValue:s(o).selected,"onUpdate:modelValue":t[7]||(t[7]=E=>s(o).selected=E),value:n.id},null,8,["modelValue","value"])]),e("td",rt,[e("p",ut,A(I.name),1),e("small",ct,A(I.description),1)]),e("td",mt,[s(o).toggledItem!=I.id?(i(),r("button",{key:0,class:"mr-11",onClick:E=>s(o).toggledItem=I.id},vt,8,_t)):(i(),r("button",{key:1,class:"mr-11",onClick:t[8]||(t[8]=E=>s(o).toggledItem=-1)},bt))])]),details:v(()=>[d(W,{data:n},null,8,["data"])]),_:2},1032,["data","toggle-details"]))),128))]),_:1})),d(Y,{modelValue:s(f),"onUpdate:modelValue":t[14]||(t[14]=n=>$(f)?f.value=n:null),onClose:t[15]||(t[15]=n=>f.value=!1)},{default:v(()=>[e("form",{id:"form",class:"p-6",onSubmit:_e(H,["prevent"])},[gt,e("div",yt,[e("div",xt,[e("div",wt,[It,d(x,{id:"name",modelValue:s(o).inventoryItem.name,"onUpdate:modelValue":t[9]||(t[9]=n=>s(o).inventoryItem.name=n),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",qt,[Vt,d(x,{id:"description",modelValue:s(o).inventoryItem.description,"onUpdate:modelValue":t[10]||(t[10]=n=>s(o).inventoryItem.description=n),name:"description",rules:"required|min:2"},null,8,["modelValue"])])]),e("div",Ct,[e("div",kt,[Et,d(x,{id:"portNumber",modelValue:s(o).inventoryItem.portNumber,"onUpdate:modelValue":t[11]||(t[11]=n=>s(o).inventoryItem.portNumber=n),name:"portNumber",rules:"required|min:2"},null,8,["modelValue"])]),e("div",$t,[At,d(x,{id:"mfg",modelValue:s(o).inventoryItem.manufacturer,"onUpdate:modelValue":t[12]||(t[12]=n=>s(o).inventoryItem.manufacturer=n),name:"manufacturer",rules:"required|min:2"},null,8,["modelValue"])]),e("div",Dt,[Nt,d(x,{id:"threshold",modelValue:s(o).inventoryItem.threshold,"onUpdate:modelValue":t[13]||(t[13]=n=>s(o).inventoryItem.threshold=n),modelModifiers:{number:!0},name:"threshold",rules:"required|numeric"},null,8,["modelValue"])])])]),St,Tt],40,ht)]),_:1},8,["modelValue"]),d(Z,{modelValue:s(m),"onUpdate:modelValue":t[17]||(t[17]=n=>$(m)?m.value=n:null),onClose:t[18]||(t[18]=n=>m.value=!1)},{icon:v(()=>[zt]),default:v(()=>[Bt,e("div",Qt,[e("button",{class:"btn btn--primary",style:{"background-color":"transparent","border-color":"white"},onClick:t[16]||(t[16]=n=>m.value=!s(m))}," Close "),e("button",{class:"btn btn--primary",onClick:O}," Delete ")])]),_:1},8,["modelValue"])],64)}}});const es=j(jt,[["__scopeId","data-v-f11db189"]]);export{es as default};
