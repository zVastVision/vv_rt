import{b as F,m as k,r as q,q as I,e as C,o as _,h as b,i as e,j as l,v as f,x as U,u as t,F as x,z as N,w as S,B,d as D,_ as E}from"./entry.bbefaf41.js";import{_ as R}from"./WarehouseHeaderWidget.vue.adaa5442.js";import{_ as $}from"./TextInput.209286f2.js";import{_ as A}from"./TextArea.e6b77f3a.js";import{u as T}from"./inventory.a3e76661.js";import{t as j,z as u}from"./vee-validate-zod.esm.225d6f64.js";import"./warehouse.63771b4a.js";import"./index.aeb2a4e3.js";import"./Auth.625ee0a0.js";import"./asyncData.35e0061c.js";const z=D(()=>E(()=>import("./ConfirmationModal.845951d5.js"),["./ConfirmationModal.845951d5.js","./entry.bbefaf41.js","./entry.d612fb7e.css","./ConfirmationModal.7ec1ebe7.css"],import.meta.url).then(p=>p.default||p)),P={class:"flex justify-end"},L=["href"],M=e("button",{type:"submit",class:"btn btn--primary ml-4"}," Save ",-1),O={class:"flex gap-6"},W={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-4 w-[1250px]"},H=e("p",{class:"text-2xl text-vvn-green mb-3"}," Basic Information ",-1),G={class:"w-full mr-4"},J=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Item Name",-1),K={class:"w-full mr-4"},Q=e("label",{for:"part_id",class:"text-vvn-gray text-base mb-2 inline-block"},"Part ID",-1),X={class:"w-full mr-4"},Y=e("label",{for:"description",class:"text-vvn-gray text-base mb-2 mt-4 inline-block"},"Description",-1),Z={class:"border border-vvn-white-15 p-5 rounded-[10px] bg-vvn-white-02 backdrop-blur-sm mt-6"},ee=e("p",{class:"text-2xl text-vvn-green mb-3"}," Custom Fields ",-1),te={class:"mr-4 w-52"},oe=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Name",-1),ne={class:"mr-4 w-[500px]"},se=e("label",{for:"name",class:"text-vvn-gray text-base mb-2 inline-block"},"Value",-1),ae=["onClick"],le=e("h5",{class:"text-2xl text-white text-center mt-4"}," Inventory created successfully ",-1),ie={class:"flex justify-center mt-8"},re={class:"btn btn--primary mr-5",style:{"background-color":"transparent","border-color":"white"}},de=["href"],Ve=F({__name:"new",setup(p){const h=T();k();const o=q({name:"",description:"",extraFields:[],part_id:""}),d=I(!1),y=j(u.object({name:u.string().nonempty("Name is required"),description:u.string().nonempty("Description is required"),part_id:u.string().nonempty("Part ID is required")})),v=C({validationSchema:y}).handleSubmit(r=>{const n={name:r.name,description:r.description,part_id:r.part_id,extraDetails:o.extraFields.map(i=>({name:i.name,value:i.value}))};h.createEquipmentInstance(n).then(()=>{d.value=!0,document.getElementById("form").reset()}).catch(i=>{console.log(i)})}),V=()=>{o.extraFields.push({name:"",value:""})};return(r,n)=>{const i=R,m=$,g=A,w=z;return _(),b(x,null,[e("form",{id:"form",class:"p-6",onSubmit:n[3]||(n[3]=S((...s)=>t(v)&&t(v)(...s),["prevent"]))},[l(i,null,{default:f(()=>[U("Add Equipment")]),_:1}),e("div",P,[e("a",{href:`/warehouse-${r.$route.params.warehouseId}/equipment`,class:"btn btn--secondary flex"}," Cancel ",8,L),M]),e("div",O,[e("div",W,[H,e("div",G,[J,l(m,{id:"name",modelValue:t(o).name,"onUpdate:modelValue":n[0]||(n[0]=s=>t(o).name=s),name:"name",rules:"required|min:2"},null,8,["modelValue"])]),e("div",K,[Q,l(m,{id:"part_id",modelValue:t(o).part_id,"onUpdate:modelValue":n[1]||(n[1]=s=>t(o).part_id=s),name:"part_id",rules:"required|min:2"},null,8,["modelValue"])]),e("div",X,[Y,l(g,{id:"description",modelValue:t(o).description,"onUpdate:modelValue":n[2]||(n[2]=s=>t(o).description=s),name:"description",rules:"required|min:2|max:256"},null,8,["modelValue"])])])]),e("div",Z,[ee,e("div",null,[(_(!0),b(x,null,N(t(o).extraFields.length,(s,a)=>(_(),b("div",{key:a,class:"flex items-end mb-4"},[e("div",te,[oe,l(m,{id:"name",modelValue:t(o).extraFields[a].name,"onUpdate:modelValue":c=>t(o).extraFields[a].name=c,name:`customField${a}-name`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("div",ne,[se,l(m,{id:"name",modelValue:t(o).extraFields[a].value,"onUpdate:modelValue":c=>t(o).extraFields[a].value=c,name:`customField${a}-value`},null,8,["modelValue","onUpdate:modelValue","name"])]),e("button",{class:"btn btn--secondary mb-1",type:"button",onClick:c=>t(o).extraFields.splice(a,1)}," Remove field ",8,ae)]))),128))]),e("button",{class:"btn btn--secondary mt-5",type:"button",onClick:V}," Add Field ")])],32),l(w,{modelValue:t(d),"onUpdate:modelValue":n[4]||(n[4]=s=>B(d)?d.value=s:null)},{default:f(()=>[le,e("div",ie,[e("button",re,[e("a",{href:"../equipment"},"Close",8,de)])])]),_:1},8,["modelValue"])],64)}}});export{Ve as default};
